2026-01-06 14:55:15,598 - INFO - [LLM registry b775b270-48ba-43c4-bb14-ca87b9f5737a]: Registering service for agent
2026-01-06 14:55:15,638 - INFO - Building image: ghcr.io/openhands/runtime:oh_v1.0.0_kobww65mh84f8ywd_v008aov5t6vw3gr5
2026-01-06 14:59:45,925 - INFO - Image [ghcr.io/openhands/runtime:oh_v1.0.0_kobww65mh84f8ywd_v008aov5t6vw3gr5] build finished.
2026-01-06 14:59:45,930 - INFO - Re-tagged image [ghcr.io/openhands/runtime:oh_v1.0.0_kobww65mh84f8ywd_v008aov5t6vw3gr5] with more generic tag [oh_v1.0.0_kobww65mh84f8ywd]
2026-01-06 14:59:45,932 - INFO - Image ghcr.io/openhands/runtime with tags [oh_v1.0.0_kobww65mh84f8ywd_v008aov5t6vw3gr5, oh_v1.0.0_kobww65mh84f8ywd] built successfully
2026-01-06 14:59:45,951 - INFO - [runtime dcf24985-db63-4a-26bfcac1ba7401e] Starting runtime with image: ghcr.io/openhands/runtime:oh_v1.0.0_kobww65mh84f8ywd_v008aov5t6vw3gr5
2026-01-06 14:59:46,136 - INFO - [runtime dcf24985-db63-4a-26bfcac1ba7401e] Starting server with command: ['/openhands/micromamba/bin/micromamba', 'run', '-n', 'openhands', 'poetry', 'run', 'python', '-u', '-m', 'openhands.runtime.action_execution_server', '30061', '--working-dir', '/workspace', '--plugins', 'agent_skills', 'jupyter', '--username', 'root', '--user-id', '0', '--no-enable-browser']
2026-01-06 14:59:46,525 - INFO - [runtime dcf24985-db63-4a-26bfcac1ba7401e] Container started: openhands-runtime-dcf24985-db63-4a-26bfcac1ba7401e. VSCode URL: None
2026-01-06 14:59:46,525 - INFO - [runtime dcf24985-db63-4a-26bfcac1ba7401e] Waiting for client to become ready at http://localhost:30061...
2026-01-06 15:00:08,581 - INFO - [runtime dcf24985-db63-4a-26bfcac1ba7401e] Runtime is ready.
2026-01-06 15:00:11,697 - INFO - Successfully configured git: name=openhands, email=openhands@all-hands.dev
2026-01-06 15:00:11,698 - INFO - ------------------------------
2026-01-06 15:00:11,699 - INFO - BEGIN Runtime Initialization Fn
2026-01-06 15:00:11,699 - INFO - ------------------------------
2026-01-06 15:00:11,699 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
echo 'export SWE_INSTANCE_ID=django__django-14017' >> ~/.bashrc && echo 'export PIP_CACHE_DIR=~/.cache/pip' >> ~/.bashrc && echo "alias git='git --no-pager'" >> ~/.bashrc && git config --global core.pager "" && git config --global diff.binary false
2026-01-06 15:00:12,319 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "cd53f2ec8eeb",
  "working_dir": "/workspace",
  "py_interpreter_path": "/openhands/micromamba/envs/openhands/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--

[The command completed with exit code 0.]
[Current working directory: /workspace]
[Python interpreter: /openhands/micromamba/envs/openhands/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:00:12,319 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
export USER=$(whoami); echo USER=${USER} 
2026-01-06 15:00:12,938 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "cd53f2ec8eeb",
  "working_dir": "/workspace",
  "py_interpreter_path": "/openhands/micromamba/envs/openhands/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--
USER=root
[The command completed with exit code 0.]
[Current working directory: /workspace]
[Python interpreter: /openhands/micromamba/envs/openhands/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:00:12,943 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
mkdir -p /swe_util/eval_data/instances
2026-01-06 15:00:13,561 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "cd53f2ec8eeb",
  "working_dir": "/workspace",
  "py_interpreter_path": "/openhands/micromamba/envs/openhands/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--

[The command completed with exit code 0.]
[Current working directory: /workspace]
[Python interpreter: /openhands/micromamba/envs/openhands/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:00:13,567 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
cat ~/.bashrc
2026-01-06 15:00:14,184 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "cd53f2ec8eeb",
  "working_dir": "/workspace",
  "py_interpreter_path": "/openhands/micromamba/envs/openhands/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--
source /opt/miniconda3/etc/profile.d/conda.sh && conda activate testbed

. "/openhands/bin/env"
export PATH="/usr/bin:/bin:/usr/sbin:/sbin:/openhands/micromamba/bin:$PATH"
export PLAYWRIGHT_BROWSERS_PATH=/opt/playwright-browsers
eval "$(/openhands/micromamba/bin/micromamba shell hook --shell bash)"
micromamba activate openhands 2>/dev/null || true
export ENABLE_AUTO_LINT=true
export NO_CHANGE_TIMEOUT_SECONDS=30
export OPENHANDS_EVAL_INSTANCE_ID=django__django-14017
export OPENHANDS_EVAL_JOB_ID=1499211795
export OPENHANDS_TIMING_DIR=./continuum32/princeton-nlp__SWE-bench_Lite-test/CodeActAgent/GLM-4.6-FP8_maxiter_135/timing
export SWE_INSTANCE_ID=django__django-14017
export PIP_CACHE_DIR=~/.cache/pip
alias git='git --no-pager'
[The command completed with exit code 0.]
[Current working directory: /workspace]
[Python interpreter: /openhands/micromamba/envs/openhands/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:00:14,185 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
source ~/.bashrc
2026-01-06 15:00:14,801 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "cd53f2ec8eeb",
  "working_dir": "/workspace",
  "py_interpreter_path": "/openhands/micromamba/envs/openhands/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--

[The command completed with exit code 0.]
[Current working directory: /workspace]
[Python interpreter: /openhands/micromamba/envs/openhands/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:00:14,801 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
source /swe_util/instance_swe_entry.sh
2026-01-06 15:00:16,926 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "cd53f2ec8eeb",
  "working_dir": "/workspace",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--
WORKSPACE_NAME: django__django__4.0
[The command completed with exit code 0.]
[Current working directory: /workspace]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:00:16,926 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
cd /workspace/django__django__4.0
2026-01-06 15:00:17,544 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "cd53f2ec8eeb",
  "working_dir": "/workspace/django__django__4.0",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--

[The command completed with exit code 0.]
[Current working directory: /workspace/django__django__4.0]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:00:17,544 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
git reset --hard
2026-01-06 15:00:19,166 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "cd53f2ec8eeb",
  "working_dir": "/workspace/django__django__4.0",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--
Updating files: 100% (6433/6433), done.
HEAD is now at 7b5b454af0 SWE-bench
[The command completed with exit code 0.]
[Current working directory: /workspace/django__django__4.0]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:00:19,169 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
for remote_name in $(git remote); do git remote remove "${remote_name}"; done
2026-01-06 15:00:19,789 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "cd53f2ec8eeb",
  "working_dir": "/workspace/django__django__4.0",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--

[The command completed with exit code 0.]
[Current working directory: /workspace/django__django__4.0]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:00:19,789 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
which python
2026-01-06 15:00:20,481 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "cd53f2ec8eeb",
  "working_dir": "/workspace/django__django__4.0",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--
/opt/miniconda3/envs/testbed/bin/python
[The command completed with exit code 0.]
[Current working directory: /workspace/django__django__4.0]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:00:20,481 - INFO - ------------------------------
2026-01-06 15:00:20,482 - INFO - END Runtime Initialization Fn
2026-01-06 15:00:20,482 - INFO - ------------------------------
2026-01-06 15:00:20,484 - INFO - [LLM registry ec2af927-9dff-4759-9bde-60b2278fe14f]: Registering service for agent
2026-01-06 15:00:20,498 - INFO - [runtime dcf24985-db63-4a-26bfcac1ba7401e] Selected repo: None, loading microagents from /workspace/.openhands/microagents (inside runtime)
2026-01-06 15:00:20,502 - INFO - [runtime dcf24985-db63-4a-26bfcac1ba7401e] Attempting to list files in repository microagents directory: /workspace/.openhands/microagents
2026-01-06 15:00:20,504 - INFO - Loading user workspace microagents: []
2026-01-06 15:00:20,504 - INFO - AgentController dcf24985-db63-4a-26bfcac1ba7401e - created new state. start_id: 0
2026-01-06 15:00:20,510 - INFO - [Agent Controller dcf24985-db63-4a-26bfcac1ba7401e] Setting agent(CodeActAgent) state from AgentState.LOADING to AgentState.RUNNING
2026-01-06 15:00:20,512 - INFO - Saved conversation stats
2026-01-06 15:08:50,646 - INFO - [Agent Controller dcf24985-db63-4a-26bfcac1ba7401e] Setting agent(CodeActAgent) state from AgentState.RUNNING to AgentState.FINISHED
2026-01-06 15:08:50,648 - INFO - Saved conversation stats
2026-01-06 15:08:51,046 - INFO - ------------------------------
2026-01-06 15:08:51,047 - INFO - BEGIN Runtime Completion Fn
2026-01-06 15:08:51,047 - INFO - ------------------------------
2026-01-06 15:08:51,047 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
cd /workspace/django__django__4.0
2026-01-06 15:08:51,718 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "cd53f2ec8eeb",
  "working_dir": "/workspace/django__django__4.0",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--

[The command completed with exit code 0.]
[Current working directory: /workspace/django__django__4.0]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:08:51,718 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
git config --global core.pager ""
2026-01-06 15:08:52,338 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "cd53f2ec8eeb",
  "working_dir": "/workspace/django__django__4.0",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--

[The command completed with exit code 0.]
[Current working directory: /workspace/django__django__4.0]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:08:52,339 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
find . -type d -name .git -not -path "./.git"
2026-01-06 15:08:52,957 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "cd53f2ec8eeb",
  "working_dir": "/workspace/django__django__4.0",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--

[The command completed with exit code 0.]
[Current working directory: /workspace/django__django__4.0]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:08:52,958 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
git add -A
2026-01-06 15:08:54,078 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "cd53f2ec8eeb",
  "working_dir": "/workspace/django__django__4.0",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--

[The command completed with exit code 0.]
[Current working directory: /workspace/django__django__4.0]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:08:54,078 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
for file in $(git status --porcelain | grep -E "^(M| M|\?\?|A| A)" | cut -c4-); do
        if [ -f "$file" ] && (file "$file" | grep -q "executable" || git check-attr binary "$file" | grep -q "binary: set"); then
            git rm -f "$file" 2>/dev/null || rm -f "$file"
            echo "Removed: $file"
        fi
    done
2026-01-06 15:08:54,704 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "cd53f2ec8eeb",
  "working_dir": "/workspace/django__django__4.0",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--
bash: file: command not found
bash: file: command not found
bash: file: command not found
bash: file: command not found
bash: file: command not found
bash: file: command not found
bash: file: command not found
[The command completed with exit code 0.]
[Current working directory: /workspace/django__django__4.0]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:08:54,705 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
git diff --no-color --cached 466920f6d726eee90d5566e0a9948e92b33a122e > patch.diff
2026-01-06 15:08:55,325 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "cd53f2ec8eeb",
  "working_dir": "/workspace/django__django__4.0",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--

[The command completed with exit code 0.]
[Current working directory: /workspace/django__django__4.0]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:08:55,329 - INFO - FileReadAction(path='patch.diff', start=0, end=-1, thought='', action=<ActionType.READ: 'read'>, security_risk=<ActionSecurityRisk.UNKNOWN: -1>, impl_source=<FileReadSource.DEFAULT: 'default'>, view_range=None)
2026-01-06 15:08:55,333 - INFO - [Read from /workspace/django__django__4.0/patch.diff is successful.]
diff --git a/django/db/models/query_utils.py b/django/db/models/query_utils.py
index c957ffa564..3570eba187 100644
--- a/django/db/models/query_utils.py
+++ b/django/db/models/query_utils.py
@@ -59,11 +59,25 @@ class Q(tree.Node):
         return obj
 
     def __or__(self, other):
+        if getattr(other, 'conditional', False) and not isinstance(other, Q):
+            return other.__or__(self)
         return self._combine(other, self.OR)
 
     def __and__(self, other):
+        if getattr(other, 'conditional', False) and not isinstance(other, Q):
+            return other.__and__(self)
         return self._combine(other, self.AND)
 
+    def __rand__(self, other):
+        if getattr(other, 'conditional', False):
+            return other.__and__(self)
+        raise TypeError(other)
+
+    def __ror__(self, other):
+        if getattr(other, 'conditional', False):
+            return other.__or__(self)
+        raise TypeError(other)
+
     def __invert__(self):
         obj = type(self)()
         obj.add(self, self.AND)
diff --git a/test_comprehensive.py b/test_comprehensive.py
new file mode 100644
index 0000000000..fb4eb27b32
--- /dev/null
+++ b/test_comprehensive.py
@@ -0,0 +1,113 @@
+#!/usr/bin/env python3
+
+import os
+import sys
+import django
+from django.conf import settings
+
+# Configure Django settings
+if not settings.configured:
+    settings.configure(
+        DEBUG=True,
+        DATABASES={
+            'default': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            }
+        },
+        INSTALLED_APPS=[
+            'django.contrib.contenttypes',
+            'django.contrib.auth',
+        ],
+        SECRET_KEY='test-secret-key',
+    )
+    django.setup()
+
+from django.db import models
+from django.db.models import Q, Exists, F, Value
+
+# Create a simple test model
+class Product(models.Model):
+    name = models.CharField(max_length=100)
+    price = models.DecimalField(max_digits=10, decimal_places=2)
+    
+    class Meta:
+        app_label = 'test'
+
+def test_comprehensive_operators():
+    """Test comprehensive operator scenarios"""
+    
+    # Create a queryset
+    queryset = Product.objects.all()
+    exists_expr = Exists(queryset)
+    q_obj = Q(name='test')
+    f_obj = F('name')
+    value_obj = Value('test')
+    
+    print("=== Testing Q and Exists commutativity ===")
+    
+    # Test basic commutativity
+    try:
+        result1 = exists_expr & q_obj
+        result2 = q_obj & exists_expr
+        print(f"✓ AND commutativity works: {result1} == {result2}")
+    except Exception as e:
+        print(f"✗ AND commutativity failed: {e}")
+    
+    try:
+        result3 = exists_expr | q_obj
+        result4 = q_obj | exists_expr
+        print(f"✓ OR commutativity works: {result3} == {result4}")
+    except Exception as e:
+        print(f"✗ OR commutativity failed: {e}")
+    
+    print("\n=== Testing with empty Q objects ===")
+    
+    empty_q = Q()
+    try:
+        result5 = exists_expr & empty_q
+        result6 = empty_q & exists_expr
+        print(f"✓ Empty Q AND commutativity works: {result5} == {result6}")
+    except Exception as e:
+        print(f"✗ Empty Q AND commutativity failed: {e}")
+    
+    try:
+        result7 = exists_expr | empty_q
+        result8 = empty_q | exists_expr
+        print(f"✓ Empty Q OR commutativity works: {result7} == {result8}")
+    except Exception as e:
+        print(f"✗ Empty Q OR commutativity failed: {e}")
+    
+    print("\n=== Testing with non-conditional objects ===")
+    
+    # These should still fail as expected
+    try:
+        result9 = q_obj & f_obj
+        print(f"✓ Q & F works: {result9}")
+    except Exception as e:
+        print(f"✗ Q & F failed (expected): {e}")
+    
+    try:
+        result10 = q_obj & value_obj
+        print(f"✓ Q & Value works: {result10}")
+    except Exception as e:
+        print(f"✗ Q & Value failed (expected): {e}")
+    
+    print("\n=== Testing Q-Q operations still work ===")
+    
+    try:
+        result11 = q_obj & Q(price__gt=10)
+        result12 = Q(price__gt=10) & q_obj
+        print(f"✓ Q-Q AND commutativity works: {result11} == {result12}")
+    except Exception as e:
+        print(f"✗ Q-Q AND commutativity failed: {e}")
+    
+    try:
+        result13 = q_obj | Q(price__gt=10)
+        result14 = Q(price__gt=10) | q_obj
+        print(f"✓ Q-Q OR commutativity works: {result13} == {result14}")
+    except Exception as e:
+        print(f"✗ Q-Q OR commutativity failed: {e}")
+
+if __name__ == '__main__':
+    test_comprehensive_operators()
diff --git a/test_existing_functionality.py b/test_existing_functionality.py
new file mode 100644
index 0000000000..78ee711cb0
--- /dev/null
+++ b/test_existing_functionality.py
@@ -0,0 +1,102 @@
+#!/usr/bin/env python3
+
+import os
+import sys
+import django
+from django.conf import settings
+
+# Configure Django settings
+if not settings.configured:
+    settings.configure(
+        DEBUG=True,
+        DATABASES={
+            'default': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            }
+        },
+        INSTALLED_APPS=[
+            'django.contrib.contenttypes',
+            'django.contrib.auth',
+        ],
+        SECRET_KEY='test-secret-key',
+    )
+    django.setup()
+
+from django.db import models
+from django.db.models import Q, Exists
+
+# Create test models similar to the existing test
+class Company(models.Model):
+    name = models.CharField(max_length=100)
+    
+    class Meta:
+        app_label = 'test'
+
+class Employee(models.Model):
+    name = models.CharField(max_length=100)
+    salary = models.DecimalField(max_digits=10, decimal_places=2)
+    company = models.ForeignKey(Company, on_delete=models.CASCADE, null=True)
+    
+    class Meta:
+        app_label = 'test'
+
+def test_existing_functionality():
+    """Test that existing functionality still works and new functionality works"""
+    
+    print("=== Testing existing functionality ===")
+    
+    # Test the existing pattern that works
+    try:
+        # Create simple querysets for testing
+        is_high_salary = Employee.objects.filter(salary__gte=30)
+        is_low_salary = Employee.objects.filter(salary__lt=15)
+        
+        # These should work (existing functionality)
+        result1 = Exists(is_high_salary) & Q(name__contains='test')
+        result2 = Exists(is_low_salary) | Q(salary__gte=30)
+        
+        print(f"✓ Exists(...) & Q(...) works: {result1}")
+        print(f"✓ Exists(...) | Q(...) works: {result2}")
+        
+    except Exception as e:
+        print(f"✗ Existing functionality failed: {e}")
+        import traceback
+        traceback.print_exc()
+        return
+    
+    print("\n=== Testing new functionality (the fix) ===")
+    
+    # Test the new pattern that should now work
+    try:
+        result3 = Q(name__contains='test') & Exists(is_high_salary)
+        result4 = Q(salary__gte=30) | Exists(is_low_salary)
+        
+        print(f"✓ Q(...) & Exists(...) works: {result3}")
+        print(f"✓ Q(...) | Exists(...) works: {result4}")
+        
+    except Exception as e:
+        print(f"✗ New functionality failed: {e}")
+        import traceback
+        traceback.print_exc()
+        return
+    
+    print("\n=== Testing commutativity ===")
+    
+    try:
+        # Test that the results are equivalent
+        if str(result1) == str(result3):
+            print("✓ AND commutativity verified")
+        else:
+            print(f"✗ AND commutativity failed: {result1} != {result3}")
+            
+        if str(result2) == str(result4):
+            print("✓ OR commutativity verified")
+        else:
+            print(f"✗ OR commutativity failed: {result2} != {result4}")
+            
+    except Exception as e:
+        print(f"✗ Commutativity test failed: {e}")
+
+if __name__ == '__main__':
+    test_existing_functionality()
diff --git a/test_final_verification.py b/test_final_verification.py
new file mode 100644
index 0000000000..abc5050bfa
--- /dev/null
+++ b/test_final_verification.py
@@ -0,0 +1,116 @@
+#!/usr/bin/env python3
+
+import os
+import sys
+import django
+from django.conf import settings
+
+# Configure Django settings
+if not settings.configured:
+    settings.configure(
+        DEBUG=True,
+        DATABASES={
+            'default': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            }
+        },
+        INSTALLED_APPS=[
+            'django.contrib.contenttypes',
+            'django.contrib.auth',
+        ],
+        SECRET_KEY='test-secret-key',
+    )
+    django.setup()
+
+from django.db import models
+from django.db.models import Q, Exists
+
+# Create a simple test model
+class Product(models.Model):
+    name = models.CharField(max_length=100)
+    price = models.DecimalField(max_digits=10, decimal_places=2)
+    
+    class Meta:
+        app_label = 'test'
+
+def test_issue_reproduction():
+    """Test the exact issue from the problem description"""
+    
+    print("=== Testing the exact issue from the problem description ===")
+    
+    # Create a queryset
+    queryset = Product.objects.all()
+    
+    # Test the exact examples from the issue
+    try:
+        # This should work (and did work before the fix)
+        result1 = Exists(queryset) & Q()
+        print(f"✓ Exists(Product.objects.all()) & Q() works: {result1}")
+    except Exception as e:
+        print(f"✗ Exists(Product.objects.all()) & Q() failed: {e}")
+    
+    try:
+        # This should now work (but failed before the fix)
+        result2 = Q() & Exists(queryset)
+        print(f"✓ Q() & Exists(Product.objects.all()) works: {result2}")
+    except Exception as e:
+        print(f"✗ Q() & Exists(Product.objects.all()) failed: {e}")
+        import traceback
+        traceback.print_exc()
+        return False
+    
+    print("\n=== Testing that the operators are truly commutative ===")
+    
+    # Test with non-empty Q objects
+    try:
+        q_obj = Q(name='test')
+        
+        # Both should work and produce equivalent results
+        result3 = Exists(queryset) & q_obj
+        result4 = q_obj & Exists(queryset)
+        
+        print(f"✓ Exists(...) & Q(...) works: {result3}")
+        print(f"✓ Q(...) & Exists(...) works: {result4}")
+        
+        # Test OR as well
+        result5 = Exists(queryset) | q_obj
+        result6 = q_obj | Exists(queryset)
+        
+        print(f"✓ Exists(...) | Q(...) works: {result5}")
+        print(f"✓ Q(...) | Exists(...) works: {result6}")
+        
+    except Exception as e:
+        print(f"✗ Commutativity test failed: {e}")
+        import traceback
+        traceback.print_exc()
+        return False
+    
+    print("\n=== Testing that existing Q-Q operations still work ===")
+    
+    try:
+        q1 = Q(name='test')
+        q2 = Q(price__gt=10)
+        
+        result7 = q1 & q2
+        result8 = q2 & q1
+        
+        result9 = q1 | q2
+        result10 = q2 | q1
+        
+        print(f"✓ Q & Q operations still work: {result7}")
+        print(f"✓ Q | Q operations still work: {result9}")
+        
+    except Exception as e:
+        print(f"✗ Q-Q operations failed: {e}")
+        import traceback
+        traceback.print_exc()
+        return False
+    
+    print("\n=== SUCCESS: All tests passed! ===")
+    print("The issue has been fixed. Q(...) & Exists(...) now works correctly.")
+    return True
+
+if __name__ == '__main__':
+    success = test_issue_reproduction()
+    sys.exit(0 if success else 1)
diff --git a/test_regression.py b/test_regression.py
new file mode 100644
index 0000000000..b04ea23372
--- /dev/null
+++ b/test_regression.py
@@ -0,0 +1,123 @@
+#!/usr/bin/env python3
+
+import os
+import sys
+import django
+from django.conf import settings
+
+# Configure Django settings
+if not settings.configured:
+    settings.configure(
+        DEBUG=True,
+        DATABASES={
+            'default': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            }
+        },
+        INSTALLED_APPS=[
+            'django.contrib.contenttypes',
+            'django.contrib.auth',
+        ],
+        SECRET_KEY='test-secret-key',
+    )
+    django.setup()
+
+from django.db import models
+from django.db.models import Q, Exists, F, Value
+
+# Create a simple test model
+class Product(models.Model):
+    name = models.CharField(max_length=100)
+    price = models.DecimalField(max_digits=10, decimal_places=2)
+    
+    class Meta:
+        app_label = 'test'
+
+def test_no_regressions():
+    """Test that we haven't broken existing functionality"""
+    
+    print("=== Testing for regressions ===")
+    
+    # Test basic Q operations
+    try:
+        q1 = Q(name='test')
+        q2 = Q(price__gt=10)
+        empty_q = Q()
+        
+        # Q & Q
+        result1 = q1 & q2
+        print(f"✓ Q & Q: {result1}")
+        
+        # Q | Q
+        result2 = q1 | q2
+        print(f"✓ Q | Q: {result2}")
+        
+        # Q & empty Q
+        result3 = q1 & empty_q
+        print(f"✓ Q & empty Q: {result3}")
+        
+        # empty Q & Q
+        result4 = empty_q & q1
+        print(f"✓ empty Q & Q: {result4}")
+        
+        # Q | empty Q
+        result5 = q1 | empty_q
+        print(f"✓ Q | empty Q: {result5}")
+        
+        # empty Q | Q
+        result6 = empty_q | q1
+        print(f"✓ empty Q | Q: {result6}")
+        
+    except Exception as e:
+        print(f"✗ Basic Q operations failed: {e}")
+        import traceback
+        traceback.print_exc()
+        return False
+    
+    # Test that non-conditional objects still fail appropriately
+    print("\n=== Testing that non-conditional objects still fail ===")
+    
+    try:
+        f_obj = F('name')
+        value_obj = Value('test')
+        
+        # These should still fail
+        try:
+            result7 = q1 & f_obj
+            print(f"✗ Q & F should have failed but didn't: {result7}")
+            return False
+        except (TypeError, AttributeError):
+            print("✓ Q & F correctly fails")
+        
+        try:
+            result8 = q1 & value_obj
+            print(f"✗ Q & Value should have failed but didn't: {result8}")
+            return False
+        except (TypeError, AttributeError):
+            print("✓ Q & Value correctly fails")
+            
+    except Exception as e:
+        print(f"✗ Non-conditional object tests failed: {e}")
+        import traceback
+        traceback.print_exc()
+        return False
+    
+    # Test Q negation
+    print("\n=== Testing Q negation ===")
+    
+    try:
+        result9 = ~q1
+        print(f"✓ Q negation: {result9}")
+    except Exception as e:
+        print(f"✗ Q negation failed: {e}")
+        import traceback
+        traceback.print_exc()
+        return False
+    
+    print("\n=== SUCCESS: No regressions detected! ===")
+    return True
+
+if __name__ == '__main__':
+    success = test_no_regressions()
+    sys.exit(0 if success else 1)
diff --git a/test_reproduction.py b/test_reproduction.py
new file mode 100644
index 0000000000..bc70154ebd
--- /dev/null
+++ b/test_reproduction.py
@@ -0,0 +1,74 @@
+#!/usr/bin/env python3
+
+import os
+import sys
+import django
+from django.conf import settings
+
+# Configure Django settings
+if not settings.configured:
+    settings.configure(
+        DEBUG=True,
+        DATABASES={
+            'default': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            }
+        },
+        INSTALLED_APPS=[
+            'django.contrib.contenttypes',
+            'django.contrib.auth',
+        ],
+        SECRET_KEY='test-secret-key',
+    )
+    django.setup()
+
+from django.db import models
+from django.db.models import Q, Exists
+
+# Create a simple test model
+class Product(models.Model):
+    name = models.CharField(max_length=100)
+    
+    class Meta:
+        app_label = 'test'
+
+def test_q_exists_operators():
+    """Test Q and Exists operator commutativity"""
+    
+    # Create a queryset
+    queryset = Product.objects.all()
+    exists_expr = Exists(queryset)
+    q_obj = Q()
+    
+    print("Testing Q and Exists operator commutativity...")
+    
+    # This should work (and does work)
+    try:
+        result1 = exists_expr & q_obj
+        print(f"✓ Exists(...) & Q() works: {result1}")
+    except Exception as e:
+        print(f"✗ Exists(...) & Q() failed: {e}")
+    
+    # This should work but currently fails
+    try:
+        result2 = q_obj & exists_expr
+        print(f"✓ Q() & Exists(...) works: {result2}")
+    except Exception as e:
+        print(f"✗ Q() & Exists(...) failed: {e}")
+    
+    # Test OR operator as well
+    try:
+        result3 = exists_expr | q_obj
+        print(f"✓ Exists(...) | Q() works: {result3}")
+    except Exception as e:
+        print(f"✗ Exists(...) | Q() failed: {e}")
+    
+    try:
+        result4 = q_obj | exists_expr
+        print(f"✓ Q() | Exists(...) works: {result4}")
+    except Exception as e:
+        print(f"✗ Q() | Exists(...) failed: {e}")
+
+if __name__ == '__main__':
+    test_q_exists_operators()
diff --git a/test_reproduction_debug.py b/test_reproduction_debug.py
new file mode 100644
index 0000000000..971f7f3815
--- /dev/null
+++ b/test_reproduction_debug.py
@@ -0,0 +1,74 @@
+#!/usr/bin/env python3
+
+import os
+import sys
+import django
+from django.conf import settings
+
+# Configure Django settings
+if not settings.configured:
+    settings.configure(
+        DEBUG=True,
+        DATABASES={
+            'default': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            }
+        },
+        INSTALLED_APPS=[
+            'django.contrib.contenttypes',
+            'django.contrib.auth',
+        ],
+        SECRET_KEY='test-secret-key',
+    )
+    django.setup()
+
+from django.db import models
+from django.db.models import Q, Exists
+
+# Create a simple test model
+class Product(models.Model):
+    name = models.CharField(max_length=100)
+    
+    class Meta:
+        app_label = 'test'
+
+def test_q_exists_operators():
+    """Test Q and Exists operator commutativity"""
+    
+    # Create a queryset
+    queryset = Product.objects.all()
+    exists_expr = Exists(queryset)
+    q_obj = Q()
+    
+    print("Testing Q and Exists operator commutativity...")
+    print(f"Exists object: {exists_expr}")
+    print(f"Exists.conditional: {getattr(exists_expr, 'conditional', 'NOT_FOUND')}")
+    print(f"Q object: {q_obj}")
+    print(f"Q.conditional: {getattr(q_obj, 'conditional', 'NOT_FOUND')}")
+    
+    # Test if Exists has __and__ method
+    print(f"Exists has __and__: {hasattr(exists_expr, '__and__')}")
+    print(f"Exists has __rand__: {hasattr(exists_expr, '__rand__')}")
+    print(f"Q has __and__: {hasattr(q_obj, '__and__')}")
+    print(f"Q has __rand__: {hasattr(q_obj, '__rand__')}")
+    
+    # This should work (and does work)
+    try:
+        result1 = exists_expr & q_obj
+        print(f"✓ Exists(...) & Q() works: {result1}")
+    except Exception as e:
+        print(f"✗ Exists(...) & Q() failed: {e}")
+    
+    # This should work but currently fails
+    try:
+        print("About to try Q() & Exists(...)")
+        result2 = q_obj & exists_expr
+        print(f"✓ Q() & Exists(...) works: {result2}")
+    except Exception as e:
+        print(f"✗ Q() & Exists(...) failed: {e}")
+        import traceback
+        traceback.print_exc()
+
+if __name__ == '__main__':
+    test_q_exists_operators()

2026-01-06 15:08:55,336 - INFO - ------------------------------
2026-01-06 15:08:55,336 - INFO - END Runtime Completion Fn
2026-01-06 15:08:55,337 - INFO - ------------------------------
2026-01-06 15:08:55,337 - INFO - Got git diff for instance django__django-14017:
--------
diff --git a/django/db/models/query_utils.py b/django/db/models/query_utils.py
index c957ffa564..3570eba187 100644
--- a/django/db/models/query_utils.py
+++ b/django/db/models/query_utils.py
@@ -59,11 +59,25 @@ class Q(tree.Node):
         return obj
 
     def __or__(self, other):
+        if getattr(other, 'conditional', False) and not isinstance(other, Q):
+            return other.__or__(self)
         return self._combine(other, self.OR)
 
     def __and__(self, other):
+        if getattr(other, 'conditional', False) and not isinstance(other, Q):
+            return other.__and__(self)
         return self._combine(other, self.AND)
 
+    def __rand__(self, other):
+        if getattr(other, 'conditional', False):
+            return other.__and__(self)
+        raise TypeError(other)
+
+    def __ror__(self, other):
+        if getattr(other, 'conditional', False):
+            return other.__or__(self)
+        raise TypeError(other)
+
     def __invert__(self):
         obj = type(self)()
         obj.add(self, self.AND)
diff --git a/test_comprehensive.py b/test_comprehensive.py
new file mode 100644
index 0000000000..fb4eb27b32
--- /dev/null
+++ b/test_comprehensive.py
@@ -0,0 +1,113 @@
+#!/usr/bin/env python3
+
+import os
+import sys
+import django
+from django.conf import settings
+
+# Configure Django settings
+if not settings.configured:
+    settings.configure(
+        DEBUG=True,
+        DATABASES={
+            'default': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            }
+        },
+        INSTALLED_APPS=[
+            'django.contrib.contenttypes',
+            'django.contrib.auth',
+        ],
+        SECRET_KEY='test-secret-key',
+    )
+    django.setup()
+
+from django.db import models
+from django.db.models import Q, Exists, F, Value
+
+# Create a simple test model
+class Product(models.Model):
+    name = models.CharField(max_length=100)
+    price = models.DecimalField(max_digits=10, decimal_places=2)
+    
+    class Meta:
+        app_label = 'test'
+
+def test_comprehensive_operators():
+    """Test comprehensive operator scenarios"""
+    
+    # Create a queryset
+    queryset = Product.objects.all()
+    exists_expr = Exists(queryset)
+    q_obj = Q(name='test')
+    f_obj = F('name')
+    value_obj = Value('test')
+    
+    print("=== Testing Q and Exists commutativity ===")
+    
+    # Test basic commutativity
+    try:
+        result1 = exists_expr & q_obj
+        result2 = q_obj & exists_expr
+        print(f"✓ AND commutativity works: {result1} == {result2}")
+    except Exception as e:
+        print(f"✗ AND commutativity failed: {e}")
+    
+    try:
+        result3 = exists_expr | q_obj
+        result4 = q_obj | exists_expr
+        print(f"✓ OR commutativity works: {result3} == {result4}")
+    except Exception as e:
+        print(f"✗ OR commutativity failed: {e}")
+    
+    print("\n=== Testing with empty Q objects ===")
+    
+    empty_q = Q()
+    try:
+        result5 = exists_expr & empty_q
+        result6 = empty_q & exists_expr
+        print(f"✓ Empty Q AND commutativity works: {result5} == {result6}")
+    except Exception as e:
+        print(f"✗ Empty Q AND commutativity failed: {e}")
+    
+    try:
+        result7 = exists_expr | empty_q
+        result8 = empty_q | exists_expr
+        print(f"✓ Empty Q OR commutativity works: {result7} == {result8}")
+    except Exception as e:
+        print(f"✗ Empty Q OR commutativity failed: {e}")
+    
+    print("\n=== Testing with non-conditional objects ===")
+    
+    # These should still fail as expected
+    try:
+        result9 = q_obj & f_obj
+        print(f"✓ Q & F works: {result9}")
+    except Exception as e:
+        print(f"✗ Q & F failed (expected): {e}")
+    
+    try:
+        result10 = q_obj & value_obj
+        print(f"✓ Q & Value works: {result10}")
+    except Exception as e:
+        print(f"✗ Q & Value failed (expected): {e}")
+    
+    print("\n=== Testing Q-Q operations still work ===")
+    
+    try:
+        result11 = q_obj & Q(price__gt=10)
+        result12 = Q(price__gt=10) & q_obj
+        print(f"✓ Q-Q AND commutativity works: {result11} == {result12}")
+    except Exception as e:
+        print(f"✗ Q-Q AND commutativity failed: {e}")
+    
+    try:
+        result13 = q_obj | Q(price__gt=10)
+        result14 = Q(price__gt=10) | q_obj
+        print(f"✓ Q-Q OR commutativity works: {result13} == {result14}")
+    except Exception as e:
+        print(f"✗ Q-Q OR commutativity failed: {e}")
+
+if __name__ == '__main__':
+    test_comprehensive_operators()
diff --git a/test_existing_functionality.py b/test_existing_functionality.py
new file mode 100644
index 0000000000..78ee711cb0
--- /dev/null
+++ b/test_existing_functionality.py
@@ -0,0 +1,102 @@
+#!/usr/bin/env python3
+
+import os
+import sys
+import django
+from django.conf import settings
+
+# Configure Django settings
+if not settings.configured:
+    settings.configure(
+        DEBUG=True,
+        DATABASES={
+            'default': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            }
+        },
+        INSTALLED_APPS=[
+            'django.contrib.contenttypes',
+            'django.contrib.auth',
+        ],
+        SECRET_KEY='test-secret-key',
+    )
+    django.setup()
+
+from django.db import models
+from django.db.models import Q, Exists
+
+# Create test models similar to the existing test
+class Company(models.Model):
+    name = models.CharField(max_length=100)
+    
+    class Meta:
+        app_label = 'test'
+
+class Employee(models.Model):
+    name = models.CharField(max_length=100)
+    salary = models.DecimalField(max_digits=10, decimal_places=2)
+    company = models.ForeignKey(Company, on_delete=models.CASCADE, null=True)
+    
+    class Meta:
+        app_label = 'test'
+
+def test_existing_functionality():
+    """Test that existing functionality still works and new functionality works"""
+    
+    print("=== Testing existing functionality ===")
+    
+    # Test the existing pattern that works
+    try:
+        # Create simple querysets for testing
+        is_high_salary = Employee.objects.filter(salary__gte=30)
+        is_low_salary = Employee.objects.filter(salary__lt=15)
+        
+        # These should work (existing functionality)
+        result1 = Exists(is_high_salary) & Q(name__contains='test')
+        result2 = Exists(is_low_salary) | Q(salary__gte=30)
+        
+        print(f"✓ Exists(...) & Q(...) works: {result1}")
+        print(f"✓ Exists(...) | Q(...) works: {result2}")
+        
+    except Exception as e:
+        print(f"✗ Existing functionality failed: {e}")
+        import traceback
+        traceback.print_exc()
+        return
+    
+    print("\n=== Testing new functionality (the fix) ===")
+    
+    # Test the new pattern that should now work
+    try:
+        result3 = Q(name__contains='test') & Exists(is_high_salary)
+        result4 = Q(salary__gte=30) | Exists(is_low_salary)
+        
+        print(f"✓ Q(...) & Exists(...) works: {result3}")
+        print(f"✓ Q(...) | Exists(...) works: {result4}")
+        
+    except Exception as e:
+        print(f"✗ New functionality failed: {e}")
+        import traceback
+        traceback.print_exc()
+        return
+    
+    print("\n=== Testing commutativity ===")
+    
+    try:
+        # Test that the results are equivalent
+        if str(result1) == str(result3):
+            print("✓ AND commutativity verified")
+        else:
+            print(f"✗ AND commutativity failed: {result1} != {result3}")
+            
+        if str(result2) == str(result4):
+            print("✓ OR commutativity verified")
+        else:
+            print(f"✗ OR commutativity failed: {result2} != {result4}")
+            
+    except Exception as e:
+        print(f"✗ Commutativity test failed: {e}")
+
+if __name__ == '__main__':
+    test_existing_functionality()
diff --git a/test_final_verification.py b/test_final_verification.py
new file mode 100644
index 0000000000..abc5050bfa
--- /dev/null
+++ b/test_final_verification.py
@@ -0,0 +1,116 @@
+#!/usr/bin/env python3
+
+import os
+import sys
+import django
+from django.conf import settings
+
+# Configure Django settings
+if not settings.configured:
+    settings.configure(
+        DEBUG=True,
+        DATABASES={
+            'default': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            }
+        },
+        INSTALLED_APPS=[
+            'django.contrib.contenttypes',
+            'django.contrib.auth',
+        ],
+        SECRET_KEY='test-secret-key',
+    )
+    django.setup()
+
+from django.db import models
+from django.db.models import Q, Exists
+
+# Create a simple test model
+class Product(models.Model):
+    name = models.CharField(max_length=100)
+    price = models.DecimalField(max_digits=10, decimal_places=2)
+    
+    class Meta:
+        app_label = 'test'
+
+def test_issue_reproduction():
+    """Test the exact issue from the problem description"""
+    
+    print("=== Testing the exact issue from the problem description ===")
+    
+    # Create a queryset
+    queryset = Product.objects.all()
+    
+    # Test the exact examples from the issue
+    try:
+        # This should work (and did work before the fix)
+        result1 = Exists(queryset) & Q()
+        print(f"✓ Exists(Product.objects.all()) & Q() works: {result1}")
+    except Exception as e:
+        print(f"✗ Exists(Product.objects.all()) & Q() failed: {e}")
+    
+    try:
+        # This should now work (but failed before the fix)
+        result2 = Q() & Exists(queryset)
+        print(f"✓ Q() & Exists(Product.objects.all()) works: {result2}")
+    except Exception as e:
+        print(f"✗ Q() & Exists(Product.objects.all()) failed: {e}")
+        import traceback
+        traceback.print_exc()
+        return False
+    
+    print("\n=== Testing that the operators are truly commutative ===")
+    
+    # Test with non-empty Q objects
+    try:
+        q_obj = Q(name='test')
+        
+        # Both should work and produce equivalent results
+        result3 = Exists(queryset) & q_obj
+        result4 = q_obj & Exists(queryset)
+        
+        print(f"✓ Exists(...) & Q(...) works: {result3}")
+        print(f"✓ Q(...) & Exists(...) works: {result4}")
+        
+        # Test OR as well
+        result5 = Exists(queryset) | q_obj
+        result6 = q_obj | Exists(queryset)
+        
+        print(f"✓ Exists(...) | Q(...) works: {result5}")
+        print(f"✓ Q(...) | Exists(...) works: {result6}")
+        
+    except Exception as e:
+        print(f"✗ Commutativity test failed: {e}")
+        import traceback
+        traceback.print_exc()
+        return False
+    
+    print("\n=== Testing that existing Q-Q operations still work ===")
+    
+    try:
+        q1 = Q(name='test')
+        q2 = Q(price__gt=10)
+        
+        result7 = q1 & q2
+        result8 = q2 & q1
+        
+        result9 = q1 | q2
+        result10 = q2 | q1
+        
+        print(f"✓ Q & Q operations still work: {result7}")
+        print(f"✓ Q | Q operations still work: {result9}")
+        
+    except Exception as e:
+        print(f"✗ Q-Q operations failed: {e}")
+        import traceback
+        traceback.print_exc()
+        return False
+    
+    print("\n=== SUCCESS: All tests passed! ===")
+    print("The issue has been fixed. Q(...) & Exists(...) now works correctly.")
+    return True
+
+if __name__ == '__main__':
+    success = test_issue_reproduction()
+    sys.exit(0 if success else 1)
diff --git a/test_regression.py b/test_regression.py
new file mode 100644
index 0000000000..b04ea23372
--- /dev/null
+++ b/test_regression.py
@@ -0,0 +1,123 @@
+#!/usr/bin/env python3
+
+import os
+import sys
+import django
+from django.conf import settings
+
+# Configure Django settings
+if not settings.configured:
+    settings.configure(
+        DEBUG=True,
+        DATABASES={
+            'default': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            }
+        },
+        INSTALLED_APPS=[
+            'django.contrib.contenttypes',
+            'django.contrib.auth',
+        ],
+        SECRET_KEY='test-secret-key',
+    )
+    django.setup()
+
+from django.db import models
+from django.db.models import Q, Exists, F, Value
+
+# Create a simple test model
+class Product(models.Model):
+    name = models.CharField(max_length=100)
+    price = models.DecimalField(max_digits=10, decimal_places=2)
+    
+    class Meta:
+        app_label = 'test'
+
+def test_no_regressions():
+    """Test that we haven't broken existing functionality"""
+    
+    print("=== Testing for regressions ===")
+    
+    # Test basic Q operations
+    try:
+        q1 = Q(name='test')
+        q2 = Q(price__gt=10)
+        empty_q = Q()
+        
+        # Q & Q
+        result1 = q1 & q2
+        print(f"✓ Q & Q: {result1}")
+        
+        # Q | Q
+        result2 = q1 | q2
+        print(f"✓ Q | Q: {result2}")
+        
+        # Q & empty Q
+        result3 = q1 & empty_q
+        print(f"✓ Q & empty Q: {result3}")
+        
+        # empty Q & Q
+        result4 = empty_q & q1
+        print(f"✓ empty Q & Q: {result4}")
+        
+        # Q | empty Q
+        result5 = q1 | empty_q
+        print(f"✓ Q | empty Q: {result5}")
+        
+        # empty Q | Q
+        result6 = empty_q | q1
+        print(f"✓ empty Q | Q: {result6}")
+        
+    except Exception as e:
+        print(f"✗ Basic Q operations failed: {e}")
+        import traceback
+        traceback.print_exc()
+        return False
+    
+    # Test that non-conditional objects still fail appropriately
+    print("\n=== Testing that non-conditional objects still fail ===")
+    
+    try:
+        f_obj = F('name')
+        value_obj = Value('test')
+        
+        # These should still fail
+        try:
+            result7 = q1 & f_obj
+            print(f"✗ Q & F should have failed but didn't: {result7}")
+            return False
+        except (TypeError, AttributeError):
+            print("✓ Q & F correctly fails")
+        
+        try:
+            result8 = q1 & value_obj
+            print(f"✗ Q & Value should have failed but didn't: {result8}")
+            return False
+        except (TypeError, AttributeError):
+            print("✓ Q & Value correctly fails")
+            
+    except Exception as e:
+        print(f"✗ Non-conditional object tests failed: {e}")
+        import traceback
+        traceback.print_exc()
+        return False
+    
+    # Test Q negation
+    print("\n=== Testing Q negation ===")
+    
+    try:
+        result9 = ~q1
+        print(f"✓ Q negation: {result9}")
+    except Exception as e:
+        print(f"✗ Q negation failed: {e}")
+        import traceback
+        traceback.print_exc()
+        return False
+    
+    print("\n=== SUCCESS: No regressions detected! ===")
+    return True
+
+if __name__ == '__main__':
+    success = test_no_regressions()
+    sys.exit(0 if success else 1)
diff --git a/test_reproduction.py b/test_reproduction.py
new file mode 100644
index 0000000000..bc70154ebd
--- /dev/null
+++ b/test_reproduction.py
@@ -0,0 +1,74 @@
+#!/usr/bin/env python3
+
+import os
+import sys
+import django
+from django.conf import settings
+
+# Configure Django settings
+if not settings.configured:
+    settings.configure(
+        DEBUG=True,
+        DATABASES={
+            'default': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            }
+        },
+        INSTALLED_APPS=[
+            'django.contrib.contenttypes',
+            'django.contrib.auth',
+        ],
+        SECRET_KEY='test-secret-key',
+    )
+    django.setup()
+
+from django.db import models
+from django.db.models import Q, Exists
+
+# Create a simple test model
+class Product(models.Model):
+    name = models.CharField(max_length=100)
+    
+    class Meta:
+        app_label = 'test'
+
+def test_q_exists_operators():
+    """Test Q and Exists operator commutativity"""
+    
+    # Create a queryset
+    queryset = Product.objects.all()
+    exists_expr = Exists(queryset)
+    q_obj = Q()
+    
+    print("Testing Q and Exists operator commutativity...")
+    
+    # This should work (and does work)
+    try:
+        result1 = exists_expr & q_obj
+        print(f"✓ Exists(...) & Q() works: {result1}")
+    except Exception as e:
+        print(f"✗ Exists(...) & Q() failed: {e}")
+    
+    # This should work but currently fails
+    try:
+        result2 = q_obj & exists_expr
+        print(f"✓ Q() & Exists(...) works: {result2}")
+    except Exception as e:
+        print(f"✗ Q() & Exists(...) failed: {e}")
+    
+    # Test OR operator as well
+    try:
+        result3 = exists_expr | q_obj
+        print(f"✓ Exists(...) | Q() works: {result3}")
+    except Exception as e:
+        print(f"✗ Exists(...) | Q() failed: {e}")
+    
+    try:
+        result4 = q_obj | exists_expr
+        print(f"✓ Q() | Exists(...) works: {result4}")
+    except Exception as e:
+        print(f"✗ Q() | Exists(...) failed: {e}")
+
+if __name__ == '__main__':
+    test_q_exists_operators()
diff --git a/test_reproduction_debug.py b/test_reproduction_debug.py
new file mode 100644
index 0000000000..971f7f3815
--- /dev/null
+++ b/test_reproduction_debug.py
@@ -0,0 +1,74 @@
+#!/usr/bin/env python3
+
+import os
+import sys
+import django
+from django.conf import settings
+
+# Configure Django settings
+if not settings.configured:
+    settings.configure(
+        DEBUG=True,
+        DATABASES={
+            'default': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            }
+        },
+        INSTALLED_APPS=[
+            'django.contrib.contenttypes',
+            'django.contrib.auth',
+        ],
+        SECRET_KEY='test-secret-key',
+    )
+    django.setup()
+
+from django.db import models
+from django.db.models import Q, Exists
+
+# Create a simple test model
+class Product(models.Model):
+    name = models.CharField(max_length=100)
+    
+    class Meta:
+        app_label = 'test'
+
+def test_q_exists_operators():
+    """Test Q and Exists operator commutativity"""
+    
+    # Create a queryset
+    queryset = Product.objects.all()
+    exists_expr = Exists(queryset)
+    q_obj = Q()
+    
+    print("Testing Q and Exists operator commutativity...")
+    print(f"Exists object: {exists_expr}")
+    print(f"Exists.conditional: {getattr(exists_expr, 'conditional', 'NOT_FOUND')}")
+    print(f"Q object: {q_obj}")
+    print(f"Q.conditional: {getattr(q_obj, 'conditional', 'NOT_FOUND')}")
+    
+    # Test if Exists has __and__ method
+    print(f"Exists has __and__: {hasattr(exists_expr, '__and__')}")
+    print(f"Exists has __rand__: {hasattr(exists_expr, '__rand__')}")
+    print(f"Q has __and__: {hasattr(q_obj, '__and__')}")
+    print(f"Q has __rand__: {hasattr(q_obj, '__rand__')}")
+    
+    # This should work (and does work)
+    try:
+        result1 = exists_expr & q_obj
+        print(f"✓ Exists(...) & Q() works: {result1}")
+    except Exception as e:
+        print(f"✗ Exists(...) & Q() failed: {e}")
+    
+    # This should work but currently fails
+    try:
+        print("About to try Q() & Exists(...)")
+        result2 = q_obj & exists_expr
+        print(f"✓ Q() & Exists(...) works: {result2}")
+    except Exception as e:
+        print(f"✗ Q() & Exists(...) failed: {e}")
+        import traceback
+        traceback.print_exc()
+
+if __name__ == '__main__':
+    test_q_exists_operators()
--------
2026-01-06 15:08:58,612 - INFO - Using instance container image: docker.io/swebench/sweb.eval.x86_64.django_1776_django-15790:latest. Please make sure this image exists. Submit an issue on https://github.com/OpenHands/OpenHands if you run into any issues.
2026-01-06 15:08:58,612 - INFO - Resource mapping for princeton-nlp__SWE-bench_Lite-test not found.
2026-01-06 15:08:58,612 - INFO - Logging LLM completions for instance django__django-15790 to ./continuum32/princeton-nlp__SWE-bench_Lite-test/CodeActAgent/GLM-4.6-FP8_maxiter_135/llm_completions/django__django-15790
2026-01-06 15:08:58,613 - INFO - Config file not found: config.toml. Error: [Errno 2] No such file or directory: 'config.toml'
2026-01-06 15:08:58,613 - INFO - Config file not found: [Errno 2] No such file or directory: 'config.toml'. Toml values have not been applied.
