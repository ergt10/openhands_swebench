2026-01-06 14:49:03,692 - INFO - [LLM registry dd1afd05-4c9d-42f6-93a6-0e90a5031851]: Registering service for agent
2026-01-06 14:49:03,727 - INFO - Building image: ghcr.io/openhands/runtime:oh_v1.0.0_37s5y41xzluhiqip_v008aov5t6vw3gr5
2026-01-06 14:58:08,712 - INFO - Image [ghcr.io/openhands/runtime:oh_v1.0.0_37s5y41xzluhiqip_v008aov5t6vw3gr5] build finished.
2026-01-06 14:58:08,718 - INFO - Re-tagged image [ghcr.io/openhands/runtime:oh_v1.0.0_37s5y41xzluhiqip_v008aov5t6vw3gr5] with more generic tag [oh_v1.0.0_37s5y41xzluhiqip]
2026-01-06 14:58:08,720 - INFO - Image ghcr.io/openhands/runtime with tags [oh_v1.0.0_37s5y41xzluhiqip_v008aov5t6vw3gr5, oh_v1.0.0_37s5y41xzluhiqip] built successfully
2026-01-06 14:58:08,767 - INFO - [runtime ec17033e-b3fc-4a-abf42db2588dead] Starting runtime with image: ghcr.io/openhands/runtime:oh_v1.0.0_37s5y41xzluhiqip_v008aov5t6vw3gr5
2026-01-06 14:58:09,464 - INFO - [runtime ec17033e-b3fc-4a-abf42db2588dead] Starting server with command: ['/openhands/micromamba/bin/micromamba', 'run', '-n', 'openhands', 'poetry', 'run', 'python', '-u', '-m', 'openhands.runtime.action_execution_server', '32640', '--working-dir', '/workspace', '--plugins', 'agent_skills', 'jupyter', '--username', 'root', '--user-id', '0', '--no-enable-browser']
2026-01-06 14:58:10,168 - INFO - [runtime ec17033e-b3fc-4a-abf42db2588dead] Container started: openhands-runtime-ec17033e-b3fc-4a-abf42db2588dead. VSCode URL: None
2026-01-06 14:58:10,168 - INFO - [runtime ec17033e-b3fc-4a-abf42db2588dead] Waiting for client to become ready at http://localhost:32640...
2026-01-06 14:58:34,227 - INFO - [runtime ec17033e-b3fc-4a-abf42db2588dead] Runtime is ready.
2026-01-06 14:58:37,338 - INFO - Successfully configured git: name=openhands, email=openhands@all-hands.dev
2026-01-06 14:58:37,340 - INFO - ------------------------------
2026-01-06 14:58:37,341 - INFO - BEGIN Runtime Initialization Fn
2026-01-06 14:58:37,341 - INFO - ------------------------------
2026-01-06 14:58:37,341 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
echo 'export SWE_INSTANCE_ID=django__django-13925' >> ~/.bashrc && echo 'export PIP_CACHE_DIR=~/.cache/pip' >> ~/.bashrc && echo "alias git='git --no-pager'" >> ~/.bashrc && git config --global core.pager "" && git config --global diff.binary false
2026-01-06 14:58:37,962 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "13e89d4035e5",
  "working_dir": "/workspace",
  "py_interpreter_path": "/openhands/micromamba/envs/openhands/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--

[The command completed with exit code 0.]
[Current working directory: /workspace]
[Python interpreter: /openhands/micromamba/envs/openhands/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 14:58:37,963 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
export USER=$(whoami); echo USER=${USER} 
2026-01-06 14:58:38,582 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "13e89d4035e5",
  "working_dir": "/workspace",
  "py_interpreter_path": "/openhands/micromamba/envs/openhands/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--
USER=root
[The command completed with exit code 0.]
[Current working directory: /workspace]
[Python interpreter: /openhands/micromamba/envs/openhands/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 14:58:38,582 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
mkdir -p /swe_util/eval_data/instances
2026-01-06 14:58:39,200 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "13e89d4035e5",
  "working_dir": "/workspace",
  "py_interpreter_path": "/openhands/micromamba/envs/openhands/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--

[The command completed with exit code 0.]
[Current working directory: /workspace]
[Python interpreter: /openhands/micromamba/envs/openhands/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 14:58:39,207 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
cat ~/.bashrc
2026-01-06 14:58:39,827 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "13e89d4035e5",
  "working_dir": "/workspace",
  "py_interpreter_path": "/openhands/micromamba/envs/openhands/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--
source /opt/miniconda3/etc/profile.d/conda.sh && conda activate testbed

. "/openhands/bin/env"
export PATH="/usr/bin:/bin:/usr/sbin:/sbin:/openhands/micromamba/bin:$PATH"
export PLAYWRIGHT_BROWSERS_PATH=/opt/playwright-browsers
eval "$(/openhands/micromamba/bin/micromamba shell hook --shell bash)"
micromamba activate openhands 2>/dev/null || true
export ENABLE_AUTO_LINT=true
export NO_CHANGE_TIMEOUT_SECONDS=30
export OPENHANDS_EVAL_INSTANCE_ID=django__django-13925
export OPENHANDS_EVAL_JOB_ID=242817482
export OPENHANDS_TIMING_DIR=./continuum32/princeton-nlp__SWE-bench_Lite-test/CodeActAgent/GLM-4.6-FP8_maxiter_135/timing
export SWE_INSTANCE_ID=django__django-13925
export PIP_CACHE_DIR=~/.cache/pip
alias git='git --no-pager'
[The command completed with exit code 0.]
[Current working directory: /workspace]
[Python interpreter: /openhands/micromamba/envs/openhands/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 14:58:39,827 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
source ~/.bashrc
2026-01-06 14:58:40,447 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "13e89d4035e5",
  "working_dir": "/workspace",
  "py_interpreter_path": "/openhands/micromamba/envs/openhands/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--

[The command completed with exit code 0.]
[Current working directory: /workspace]
[Python interpreter: /openhands/micromamba/envs/openhands/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 14:58:40,447 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
source /swe_util/instance_swe_entry.sh
2026-01-06 14:58:43,075 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "13e89d4035e5",
  "working_dir": "/workspace",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--
WORKSPACE_NAME: django__django__4.0
[The command completed with exit code 0.]
[Current working directory: /workspace]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 14:58:43,076 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
cd /workspace/django__django__4.0
2026-01-06 14:58:43,694 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "13e89d4035e5",
  "working_dir": "/workspace/django__django__4.0",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--

[The command completed with exit code 0.]
[Current working directory: /workspace/django__django__4.0]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 14:58:43,694 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
git reset --hard
2026-01-06 14:58:45,318 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "13e89d4035e5",
  "working_dir": "/workspace/django__django__4.0",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--
Updating files: 100% (6421/6421), done.
HEAD is now at 7425d316e0 SWE-bench
[The command completed with exit code 0.]
[Current working directory: /workspace/django__django__4.0]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 14:58:45,318 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
for remote_name in $(git remote); do git remote remove "${remote_name}"; done
2026-01-06 14:58:45,947 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "13e89d4035e5",
  "working_dir": "/workspace/django__django__4.0",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--

[The command completed with exit code 0.]
[Current working directory: /workspace/django__django__4.0]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 14:58:45,947 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
which python
2026-01-06 14:58:46,564 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "13e89d4035e5",
  "working_dir": "/workspace/django__django__4.0",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--
/opt/miniconda3/envs/testbed/bin/python
[The command completed with exit code 0.]
[Current working directory: /workspace/django__django__4.0]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 14:58:46,564 - INFO - ------------------------------
2026-01-06 14:58:46,564 - INFO - END Runtime Initialization Fn
2026-01-06 14:58:46,565 - INFO - ------------------------------
2026-01-06 14:58:46,567 - INFO - [LLM registry b6ce6462-811a-4018-9e29-785e08fa0c62]: Registering service for agent
2026-01-06 14:58:46,577 - INFO - [runtime ec17033e-b3fc-4a-abf42db2588dead] Selected repo: None, loading microagents from /workspace/.openhands/microagents (inside runtime)
2026-01-06 14:58:46,580 - INFO - [runtime ec17033e-b3fc-4a-abf42db2588dead] Attempting to list files in repository microagents directory: /workspace/.openhands/microagents
2026-01-06 14:58:46,582 - INFO - Loading user workspace microagents: []
2026-01-06 14:58:46,582 - INFO - AgentController ec17033e-b3fc-4a-abf42db2588dead - created new state. start_id: 0
2026-01-06 14:58:46,587 - INFO - [Agent Controller ec17033e-b3fc-4a-abf42db2588dead] Setting agent(CodeActAgent) state from AgentState.LOADING to AgentState.RUNNING
2026-01-06 14:58:46,590 - INFO - Saved conversation stats
2026-01-06 15:07:34,947 - INFO - [Agent Controller ec17033e-b3fc-4a-abf42db2588dead] Setting agent(CodeActAgent) state from AgentState.RUNNING to AgentState.FINISHED
2026-01-06 15:07:34,949 - INFO - Saved conversation stats
2026-01-06 15:07:35,219 - INFO - ------------------------------
2026-01-06 15:07:35,219 - INFO - BEGIN Runtime Completion Fn
2026-01-06 15:07:35,219 - INFO - ------------------------------
2026-01-06 15:07:35,220 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
cd /workspace/django__django__4.0
2026-01-06 15:07:35,841 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "13e89d4035e5",
  "working_dir": "/workspace/django__django__4.0",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--

[The command completed with exit code 0.]
[Current working directory: /workspace/django__django__4.0]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:07:35,841 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
git config --global core.pager ""
2026-01-06 15:07:36,461 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "13e89d4035e5",
  "working_dir": "/workspace/django__django__4.0",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--

[The command completed with exit code 0.]
[Current working directory: /workspace/django__django__4.0]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:07:36,461 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
find . -type d -name .git -not -path "./.git"
2026-01-06 15:07:37,079 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "13e89d4035e5",
  "working_dir": "/workspace/django__django__4.0",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--

[The command completed with exit code 0.]
[Current working directory: /workspace/django__django__4.0]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:07:37,080 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
git add -A
2026-01-06 15:07:37,697 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "13e89d4035e5",
  "working_dir": "/workspace/django__django__4.0",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--

[The command completed with exit code 0.]
[Current working directory: /workspace/django__django__4.0]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:07:37,697 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
for file in $(git status --porcelain | grep -E "^(M| M|\?\?|A| A)" | cut -c4-); do
        if [ -f "$file" ] && (file "$file" | grep -q "executable" || git check-attr binary "$file" | grep -q "binary: set"); then
            git rm -f "$file" 2>/dev/null || rm -f "$file"
            echo "Removed: $file"
        fi
    done
2026-01-06 15:07:38,321 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "13e89d4035e5",
  "working_dir": "/workspace/django__django__4.0",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--
bash: file: command not found
bash: file: command not found
bash: file: command not found
bash: file: command not found
bash: file: command not found
bash: file: command not found
bash: file: command not found
[The command completed with exit code 0.]
[Current working directory: /workspace/django__django__4.0]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:07:38,321 - INFO - **CmdRunAction (source=None, is_input=False)**
COMMAND:
git diff --no-color --cached 0c42cdf0d2422f4c080e93594d5d15381d6e955e > patch.diff
2026-01-06 15:07:38,944 - INFO - **CmdOutputObservation (source=None, exit code=0, metadata={
  "exit_code": 0,
  "pid": -1,
  "username": "root",
  "hostname": "13e89d4035e5",
  "working_dir": "/workspace/django__django__4.0",
  "py_interpreter_path": "/opt/miniconda3/envs/testbed/bin/python",
  "prefix": "",
  "suffix": "\n[The command completed with exit code 0.]"
})**
--BEGIN AGENT OBSERVATION--

[The command completed with exit code 0.]
[Current working directory: /workspace/django__django__4.0]
[Python interpreter: /opt/miniconda3/envs/testbed/bin/python]
[Command finished with exit code 0]
--END AGENT OBSERVATION--
2026-01-06 15:07:38,944 - INFO - FileReadAction(path='patch.diff', start=0, end=-1, thought='', action=<ActionType.READ: 'read'>, security_risk=<ActionSecurityRisk.UNKNOWN: -1>, impl_source=<FileReadSource.DEFAULT: 'default'>, view_range=None)
2026-01-06 15:07:38,947 - INFO - [Read from /workspace/django__django__4.0/patch.diff is successful.]
diff --git a/debug_inheritance.py b/debug_inheritance.py
new file mode 100644
index 0000000000..f651f56f60
--- /dev/null
+++ b/debug_inheritance.py
@@ -0,0 +1,103 @@
+#!/usr/bin/env python3
+"""
+Debug script to understand how primary key inheritance works.
+"""
+
+import os
+import sys
+from unittest import mock
+import django
+from django.conf import settings, UserSettingsHolder
+from django.db import models
+
+def mocked_is_overridden(self, setting):
+    # Force treating DEFAULT_AUTO_FIELD = 'django.db.models.AutoField' as a not
+    # overridden setting.
+    return (
+        setting != 'DEFAULT_AUTO_FIELD' or
+        self.DEFAULT_AUTO_FIELD != 'django.db.models.AutoField'
+    )
+
+# Configure Django settings
+if not settings.configured:
+    settings.configure(
+        DEBUG=True,
+        DATABASES={
+            'default': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            }
+        },
+        INSTALLED_APPS=[
+            'django.contrib.contenttypes',
+            'django.contrib.auth',
+        ],
+        SECRET_KEY='test-secret-key',
+        DEFAULT_AUTO_FIELD='django.db.models.AutoField',
+    )
+
+# Apply the mock to treat AutoField as not overridden
+mock.patch.object(UserSettingsHolder, 'is_overridden', mocked_is_overridden).start()
+
+django.setup()
+
+# Create the models that demonstrate the issue
+class Entity(models.Model):
+    """Base model with manually specified primary key."""
+    id = models.BigAutoField(primary_key=True)
+    name = models.CharField(max_length=100)
+    
+    class Meta:
+        app_label = 'test_app'
+
+class User(Entity):
+    """Child model that should inherit the primary key from Entity."""
+    email = models.EmailField()
+    
+    class Meta:
+        app_label = 'test_app'
+
+class SimpleModel(models.Model):
+    """Model without explicit primary key - should trigger W042."""
+    name = models.CharField(max_length=100)
+    
+    class Meta:
+        app_label = 'test_app'
+
+def debug_model(model_class, model_name):
+    print(f"\n=== {model_name} ===")
+    print(f"PK: {model_class._meta.pk}")
+    print(f"PK name: {model_class._meta.pk.name}")
+    print(f"PK auto_created: {getattr(model_class._meta.pk, 'auto_created', 'N/A')}")
+    print(f"PK primary_key: {model_class._meta.pk.primary_key}")
+    print(f"Local fields: {[f.name for f in model_class._meta.local_fields]}")
+    print(f"Parents: {model_class._meta.parents}")
+    
+    # Check if the PK is a parent link
+    for parent, field in model_class._meta.parents.items():
+        if field and field.primary_key:
+            print(f"Parent link PK from {parent}: {field}")
+            print(f"Parent link auto_created: {getattr(field, 'auto_created', 'N/A')}")
+
+def main():
+    print("Debugging model inheritance and primary key behavior...")
+    print(f"Django version: {django.get_version()}")
+    print(f"DEFAULT_AUTO_FIELD: {settings.DEFAULT_AUTO_FIELD}")
+    
+    debug_model(Entity, "Entity")
+    debug_model(User, "User") 
+    debug_model(SimpleModel, "SimpleModel")
+    
+    # Test the _check_default_pk method directly
+    print(f"\n=== _check_default_pk results ===")
+    for model_class, name in [(Entity, "Entity"), (User, "User"), (SimpleModel, "SimpleModel")]:
+        try:
+            warnings = model_class._check_default_pk()
+            print(f"{name}: {len(warnings)} warnings")
+            for warning in warnings:
+                print(f"  {warning.msg}")
+        except Exception as e:
+            print(f"{name}: Error - {e}")
+
+if __name__ == '__main__':
+    main()
diff --git a/django/db/models/base.py b/django/db/models/base.py
index 4038859cfa..7c0a7d17fb 100644
--- a/django/db/models/base.py
+++ b/django/db/models/base.py
@@ -1297,8 +1297,16 @@ class Model(metaclass=ModelBase):
 
     @classmethod
     def _check_default_pk(cls):
+        # Check if the primary key is a parent link field (inherited from a parent model)
+        is_parent_link = any(
+            field == cls._meta.pk 
+            for field in cls._meta.parents.values()
+            if field is not None
+        )
+        
         if (
             cls._meta.pk.auto_created and
+            not is_parent_link and
             not settings.is_overridden('DEFAULT_AUTO_FIELD') and
             not cls._meta.app_config._is_default_auto_field_overridden
         ):
diff --git a/reproduce_issue.py b/reproduce_issue.py
new file mode 100644
index 0000000000..fcea2685e5
--- /dev/null
+++ b/reproduce_issue.py
@@ -0,0 +1,115 @@
+#!/usr/bin/env python3
+"""
+Reproduction script for the W042 warning issue with inherited primary keys.
+
+This script demonstrates the problem where models that inherit from a parent
+with a manually specified primary key incorrectly trigger the W042 warning.
+"""
+
+import os
+import sys
+from unittest import mock
+import django
+from django.conf import settings, UserSettingsHolder
+from django.core.management import execute_from_command_line
+from django.core.checks import run_checks
+from django.db import models
+
+def mocked_is_overridden(self, setting):
+    # Force treating DEFAULT_AUTO_FIELD = 'django.db.models.AutoField' as a not
+    # overridden setting.
+    return (
+        setting != 'DEFAULT_AUTO_FIELD' or
+        self.DEFAULT_AUTO_FIELD != 'django.db.models.AutoField'
+    )
+
+# Configure Django settings
+if not settings.configured:
+    settings.configure(
+        DEBUG=True,
+        DATABASES={
+            'default': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            }
+        },
+        INSTALLED_APPS=[
+            'django.contrib.contenttypes',
+            'django.contrib.auth',
+        ],
+        SECRET_KEY='test-secret-key',
+        # Use the default AutoField to trigger the warning
+        DEFAULT_AUTO_FIELD='django.db.models.AutoField',
+    )
+
+# Apply the mock to treat AutoField as not overridden
+mock.patch.object(UserSettingsHolder, 'is_overridden', mocked_is_overridden).start()
+
+django.setup()
+
+# Create the models that demonstrate the issue
+class Entity(models.Model):
+    """Base model with manually specified primary key."""
+    id = models.BigAutoField(primary_key=True)
+    name = models.CharField(max_length=100)
+    
+    class Meta:
+        app_label = 'test_app'
+
+class User(Entity):
+    """Child model that should inherit the primary key from Entity."""
+    email = models.EmailField()
+    
+    class Meta:
+        app_label = 'test_app'
+
+class AnotherModel(models.Model):
+    """Model without explicit primary key - should trigger W042."""
+    name = models.CharField(max_length=100)
+    
+    class Meta:
+        app_label = 'test_app'
+
+def main():
+    print("Testing W042 warning behavior...")
+    print(f"Django version: {django.get_version()}")
+    print(f"DEFAULT_AUTO_FIELD: {settings.DEFAULT_AUTO_FIELD}")
+    print()
+    
+    # Run system checks
+    print("Running system checks...")
+    issues = run_checks()
+    
+    # Filter for W042 warnings
+    w042_issues = [issue for issue in issues if hasattr(issue, 'id') and issue.id == 'models.W042']
+    
+    print(f"\nFound {len(w042_issues)} W042 warnings:")
+    for issue in w042_issues:
+        print(f"  - {issue.obj.__name__}: {issue.msg}")
+        print(f"    Hint: {issue.hint}")
+    
+    print(f"\nTotal issues found: {len(issues)}")
+    
+    # Expected behavior:
+    # - User should NOT trigger W042 (inherits PK from Entity)
+    # - AnotherModel SHOULD trigger W042 (no explicit PK)
+    
+    user_has_w042 = any(issue.obj.__name__ == 'User' for issue in w042_issues)
+    another_model_has_w042 = any(issue.obj.__name__ == 'AnotherModel' for issue in w042_issues)
+    
+    print(f"\nExpected behavior:")
+    print(f"  User should NOT have W042: {not user_has_w042} (actual: {user_has_w042})")
+    print(f"  AnotherModel SHOULD have W042: {another_model_has_w042}")
+    
+    if user_has_w042:
+        print("\n❌ BUG CONFIRMED: User model incorrectly triggers W042 warning!")
+        print("   The User model inherits its primary key from Entity,")
+        print("   so it should not be considered as having an auto-created PK.")
+        return False
+    else:
+        print("\n✅ No bug detected - User model correctly does not trigger W042")
+        return True
+
+if __name__ == '__main__':
+    success = main()
+    sys.exit(0 if success else 1)
diff --git a/test_fix.py b/test_fix.py
new file mode 100644
index 0000000000..6a7721994e
--- /dev/null
+++ b/test_fix.py
@@ -0,0 +1,94 @@
+#!/usr/bin/env python3
+"""
+Test script to verify the fix for W042 warning with inherited primary keys.
+"""
+
+import os
+import sys
+from unittest import mock
+import django
+from django.conf import settings, UserSettingsHolder
+from django.core.checks import run_checks
+from django.db import models
+from django.test.utils import isolate_apps, override_settings, override_system_checks
+
+def mocked_is_overridden(self, setting):
+    # Force treating DEFAULT_AUTO_FIELD = 'django.db.models.AutoField' as a not
+    # overridden setting.
+    return (
+        setting != 'DEFAULT_AUTO_FIELD' or
+        self.DEFAULT_AUTO_FIELD != 'django.db.models.AutoField'
+    )
+
+@mock.patch('django.conf.UserSettingsHolder.is_overridden', mocked_is_overridden)
+@override_settings(DEFAULT_AUTO_FIELD='django.db.models.AutoField')
+@isolate_apps('test_app')
+@override_system_checks(['django.core.checks.model_checks.check_all_models'])
+def test_inherited_primary_key_fix():
+    """Test that models with inherited primary keys don't trigger W042."""
+    
+    class Entity(models.Model):
+        """Base model with manually specified primary key."""
+        id = models.BigAutoField(primary_key=True)
+        name = models.CharField(max_length=100)
+        
+        class Meta:
+            app_label = 'test_app'
+
+    class User(Entity):
+        """Child model that should inherit the primary key from Entity."""
+        email = models.EmailField()
+        
+        class Meta:
+            app_label = 'test_app'
+
+    class SimpleModel(models.Model):
+        """Model without explicit primary key - should trigger W042."""
+        name = models.CharField(max_length=100)
+        
+        class Meta:
+            app_label = 'test_app'
+
+    # Run system checks
+    from django.apps import apps
+    issues = run_checks(app_configs=apps.get_app_configs())
+    
+    # Filter for W042 warnings
+    w042_issues = [issue for issue in issues if hasattr(issue, 'id') and issue.id == 'models.W042']
+    
+    print(f"Found {len(w042_issues)} W042 warnings:")
+    for issue in w042_issues:
+        print(f"  - {issue.obj.__name__}: {issue.msg}")
+    
+    # Test assertions
+    user_has_w042 = any(issue.obj.__name__ == 'User' for issue in w042_issues)
+    simple_model_has_w042 = any(issue.obj.__name__ == 'SimpleModel' for issue in w042_issues)
+    entity_has_w042 = any(issue.obj.__name__ == 'Entity' for issue in w042_issues)
+    
+    print(f"\nResults:")
+    print(f"  Entity has W042: {entity_has_w042} (should be False)")
+    print(f"  User has W042: {user_has_w042} (should be False)")
+    print(f"  SimpleModel has W042: {simple_model_has_w042} (should be True)")
+    
+    # Verify the fix
+    success = True
+    if entity_has_w042:
+        print("❌ FAIL: Entity should not have W042 (has explicit PK)")
+        success = False
+    if user_has_w042:
+        print("❌ FAIL: User should not have W042 (inherits PK from Entity)")
+        success = False
+    if not simple_model_has_w042:
+        print("❌ FAIL: SimpleModel should have W042 (no explicit PK)")
+        success = False
+    
+    if success:
+        print("✅ SUCCESS: All tests passed!")
+        return True
+    else:
+        print("❌ FAILURE: Some tests failed!")
+        return False
+
+if __name__ == '__main__':
+    success = test_inherited_primary_key_fix()
+    sys.exit(0 if success else 1)
diff --git a/test_regression.py b/test_regression.py
new file mode 100644
index 0000000000..defdd83311
--- /dev/null
+++ b/test_regression.py
@@ -0,0 +1,194 @@
+#!/usr/bin/env python3
+"""
+Test to ensure no regressions in basic model functionality.
+"""
+
+import os
+import sys
+import django
+from django.conf import settings
+
+# Configure Django settings
+if not settings.configured:
+    settings.configure(
+        DEBUG=True,
+        DATABASES={
+            'default': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            }
+        },
+        INSTALLED_APPS=[
+            'django.contrib.contenttypes',
+            'django.contrib.auth',
+        ],
+        SECRET_KEY='test-secret-key',
+        DEFAULT_AUTO_FIELD='django.db.models.AutoField',
+    )
+
+django.setup()
+
+from django.db import models
+from django.core.checks import run_checks
+from django.apps import apps
+
+# Create a simple app config for testing
+from django.apps import AppConfig
+
+class TestAppConfig(AppConfig):
+    name = 'test_app'
+    path = 'test_app'
+    _is_default_auto_field_overridden = False
+
+# Register the app config
+app_config = TestAppConfig('test_app', None)
+apps.app_configs['test_app'] = app_config
+apps.ready = False
+
+def test_basic_model_functionality():
+    """Test that basic model functionality still works correctly."""
+    
+    print("Testing basic model functionality...")
+    
+    # Test 1: Simple model with auto-created PK should still trigger W042
+    class SimpleModel(models.Model):
+        name = models.CharField(max_length=100)
+        
+        class Meta:
+            app_label = 'test_app'
+    
+    # Test 2: Model with explicit PK should not trigger W042
+    class ExplicitPKModel(models.Model):
+        id = models.BigAutoField(primary_key=True)
+        name = models.CharField(max_length=100)
+        
+        class Meta:
+            app_label = 'test_app'
+    
+    # Test 3: Model inheriting from explicit PK model should not trigger W042
+    class InheritedModel(ExplicitPKModel):
+        extra_field = models.TextField()
+        
+        class Meta:
+            app_label = 'test_app'
+    
+    # Mock the settings.is_overridden to treat AutoField as not overridden
+    original_is_overridden = settings.is_overridden
+    def mock_is_overridden(setting):
+        if setting == 'DEFAULT_AUTO_FIELD':
+            return False  # Treat as not overridden
+        return original_is_overridden(setting)
+    
+    settings.is_overridden = mock_is_overridden
+    
+    try:
+        # Test _check_default_pk for each model
+        simple_warnings = len(SimpleModel._check_default_pk())
+        explicit_warnings = len(ExplicitPKModel._check_default_pk())
+        inherited_warnings = len(InheritedModel._check_default_pk())
+        
+        print(f"SimpleModel warnings: {simple_warnings} (expected: 1)")
+        print(f"ExplicitPKModel warnings: {explicit_warnings} (expected: 0)")
+        print(f"InheritedModel warnings: {inherited_warnings} (expected: 0)")
+        
+        # Test basic model attributes
+        assert SimpleModel._meta.pk.name == 'id'
+        assert SimpleModel._meta.pk.auto_created == True
+        
+        assert ExplicitPKModel._meta.pk.name == 'id'
+        assert ExplicitPKModel._meta.pk.auto_created == False
+        
+        assert InheritedModel._meta.pk.name == 'explicitpkmodel_ptr'
+        assert InheritedModel._meta.pk.auto_created == True
+        
+        # Test that parent link is correctly identified
+        is_parent_link = any(
+            field == InheritedModel._meta.pk 
+            for field in InheritedModel._meta.parents.values()
+            if field is not None
+        )
+        assert is_parent_link == True
+        
+        print("✅ All basic functionality tests passed!")
+        return True
+        
+    except Exception as e:
+        print(f"❌ Test failed: {e}")
+        return False
+        
+    finally:
+        settings.is_overridden = original_is_overridden
+
+def test_edge_cases():
+    """Test edge cases to ensure robustness."""
+    
+    print("\nTesting edge cases...")
+    
+    # Test multiple inheritance levels
+    class Level1(models.Model):
+        id = models.BigAutoField(primary_key=True)
+        
+        class Meta:
+            app_label = 'test_app'
+    
+    class Level2(Level1):
+        field2 = models.CharField(max_length=50)
+        
+        class Meta:
+            app_label = 'test_app'
+    
+    class Level3(Level2):
+        field3 = models.IntegerField()
+        
+        class Meta:
+            app_label = 'test_app'
+    
+    # Mock the settings.is_overridden
+    original_is_overridden = settings.is_overridden
+    def mock_is_overridden(setting):
+        if setting == 'DEFAULT_AUTO_FIELD':
+            return False
+        return original_is_overridden(setting)
+    
+    settings.is_overridden = mock_is_overridden
+    
+    try:
+        level1_warnings = len(Level1._check_default_pk())
+        level2_warnings = len(Level2._check_default_pk())
+        level3_warnings = len(Level3._check_default_pk())
+        
+        print(f"Level1 warnings: {level1_warnings} (expected: 0)")
+        print(f"Level2 warnings: {level2_warnings} (expected: 0)")
+        print(f"Level3 warnings: {level3_warnings} (expected: 0)")
+        
+        if level1_warnings == 0 and level2_warnings == 0 and level3_warnings == 0:
+            print("✅ Edge case tests passed!")
+            return True
+        else:
+            print("❌ Edge case tests failed!")
+            return False
+            
+    except Exception as e:
+        print(f"❌ Edge case test failed: {e}")
+        return False
+        
+    finally:
+        settings.is_overridden = original_is_overridden
+
+def main():
+    print("Running regression tests for W042 fix...")
+    print(f"Django version: {django.get_version()}")
+    
+    test1_passed = test_basic_model_functionality()
+    test2_passed = test_edge_cases()
+    
+    if test1_passed and test2_passed:
+        print("\n✅ All regression tests passed!")
+        return True
+    else:
+        print("\n❌ Some regression tests failed!")
+        return False
+
+if __name__ == '__main__':
+    success = main()
+    sys.exit(0 if success else 1)
diff --git a/tests/check_framework/test_model_checks.py b/tests/check_framework/test_model_checks.py
index d4342ada07..edf429176a 100644
--- a/tests/check_framework/test_model_checks.py
+++ b/tests/check_framework/test_model_checks.py
@@ -415,3 +415,37 @@ class ModelDefaultAutoFieldTests(SimpleTestCase):
                 app_label = 'check_framework.apps.CheckPKConfig'
 
         self.assertEqual(checks.run_checks(app_configs=apps.get_app_configs()), [])
+
+    def test_inherited_primary_key_no_warning(self):
+        """Models that inherit primary keys from parent models should not trigger W042."""
+        
+        class Entity(models.Model):
+            id = models.BigAutoField(primary_key=True)
+            name = models.CharField(max_length=100)
+            
+            class Meta:
+                app_label = 'check_framework'
+
+        class User(Entity):
+            email = models.EmailField()
+            
+            class Meta:
+                app_label = 'check_framework'
+
+        class SimpleModel(models.Model):
+            name = models.CharField(max_length=100)
+            
+            class Meta:
+                app_label = 'check_framework'
+
+        issues = checks.run_checks(app_configs=self.apps.get_app_configs())
+        w042_issues = [issue for issue in issues if hasattr(issue, 'id') and issue.id == 'models.W042']
+        
+        # Entity should not have W042 (has explicit PK)
+        # User should not have W042 (inherits PK from Entity)  
+        # SimpleModel should have W042 (no explicit PK)
+        model_names_with_w042 = [issue.obj.__name__ for issue in w042_issues]
+        
+        self.assertNotIn('Entity', model_names_with_w042)
+        self.assertNotIn('User', model_names_with_w042)
+        self.assertIn('SimpleModel', model_names_with_w042)
diff --git a/verify_fix.py b/verify_fix.py
new file mode 100644
index 0000000000..ef2dd5b85b
--- /dev/null
+++ b/verify_fix.py
@@ -0,0 +1,120 @@
+#!/usr/bin/env python3
+"""
+Simple verification script for the W042 fix.
+"""
+
+import os
+import sys
+import django
+from django.conf import settings
+
+# Configure Django settings
+if not settings.configured:
+    settings.configure(
+        DEBUG=True,
+        DATABASES={
+            'default': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            }
+        },
+        INSTALLED_APPS=[
+            'django.contrib.contenttypes',
+            'django.contrib.auth',
+        ],
+        SECRET_KEY='test-secret-key',
+        DEFAULT_AUTO_FIELD='django.db.models.AutoField',
+    )
+
+django.setup()
+
+from django.db import models
+from django.core.checks import run_checks
+from django.apps import apps
+
+# Create a simple app config for testing
+from django.apps import AppConfig
+
+class TestAppConfig(AppConfig):
+    name = 'test_app'
+    path = 'test_app'
+    _is_default_auto_field_overridden = False
+
+# Register the app config
+app_config = TestAppConfig('test_app', None)
+apps.app_configs['test_app'] = app_config
+apps.ready = False
+
+# Create the models
+class Entity(models.Model):
+    """Base model with manually specified primary key."""
+    id = models.BigAutoField(primary_key=True)
+    name = models.CharField(max_length=100)
+    
+    class Meta:
+        app_label = 'test_app'
+
+class User(Entity):
+    """Child model that should inherit the primary key from Entity."""
+    email = models.EmailField()
+    
+    class Meta:
+        app_label = 'test_app'
+
+class SimpleModel(models.Model):
+    """Model without explicit primary key - should trigger W042."""
+    name = models.CharField(max_length=100)
+    
+    class Meta:
+        app_label = 'test_app'
+
+def main():
+    print("Verifying W042 fix for inherited primary keys...")
+    print(f"Django version: {django.get_version()}")
+    
+    # Test the _check_default_pk method directly
+    print(f"\n=== Testing _check_default_pk directly ===")
+    
+    # Mock the settings.is_overridden to treat AutoField as not overridden
+    original_is_overridden = settings.is_overridden
+    def mock_is_overridden(setting):
+        if setting == 'DEFAULT_AUTO_FIELD':
+            return False  # Treat as not overridden
+        return original_is_overridden(setting)
+    
+    settings.is_overridden = mock_is_overridden
+    
+    try:
+        for model_class, name in [(Entity, "Entity"), (User, "User"), (SimpleModel, "SimpleModel")]:
+            warnings = model_class._check_default_pk()
+            print(f"{name}: {len(warnings)} warnings")
+            for warning in warnings:
+                print(f"  {warning.msg}")
+        
+        # Expected behavior:
+        # - Entity: 0 warnings (has explicit PK)
+        # - User: 0 warnings (inherits PK from Entity) 
+        # - SimpleModel: 1 warning (no explicit PK)
+        
+        entity_warnings = len(Entity._check_default_pk())
+        user_warnings = len(User._check_default_pk())
+        simple_warnings = len(SimpleModel._check_default_pk())
+        
+        print(f"\n=== Results ===")
+        print(f"Entity warnings: {entity_warnings} (expected: 0)")
+        print(f"User warnings: {user_warnings} (expected: 0)")
+        print(f"SimpleModel warnings: {simple_warnings} (expected: 1)")
+        
+        if entity_warnings == 0 and user_warnings == 0 and simple_warnings == 1:
+            print("✅ SUCCESS: Fix is working correctly!")
+            return True
+        else:
+            print("❌ FAILURE: Fix is not working as expected!")
+            return False
+            
+    finally:
+        settings.is_overridden = original_is_overridden
+
+if __name__ == '__main__':
+    success = main()
+    sys.exit(0 if success else 1)

2026-01-06 15:07:38,948 - INFO - ------------------------------
2026-01-06 15:07:38,948 - INFO - END Runtime Completion Fn
2026-01-06 15:07:38,948 - INFO - ------------------------------
2026-01-06 15:07:38,949 - INFO - Got git diff for instance django__django-13925:
--------
diff --git a/debug_inheritance.py b/debug_inheritance.py
new file mode 100644
index 0000000000..f651f56f60
--- /dev/null
+++ b/debug_inheritance.py
@@ -0,0 +1,103 @@
+#!/usr/bin/env python3
+"""
+Debug script to understand how primary key inheritance works.
+"""
+
+import os
+import sys
+from unittest import mock
+import django
+from django.conf import settings, UserSettingsHolder
+from django.db import models
+
+def mocked_is_overridden(self, setting):
+    # Force treating DEFAULT_AUTO_FIELD = 'django.db.models.AutoField' as a not
+    # overridden setting.
+    return (
+        setting != 'DEFAULT_AUTO_FIELD' or
+        self.DEFAULT_AUTO_FIELD != 'django.db.models.AutoField'
+    )
+
+# Configure Django settings
+if not settings.configured:
+    settings.configure(
+        DEBUG=True,
+        DATABASES={
+            'default': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            }
+        },
+        INSTALLED_APPS=[
+            'django.contrib.contenttypes',
+            'django.contrib.auth',
+        ],
+        SECRET_KEY='test-secret-key',
+        DEFAULT_AUTO_FIELD='django.db.models.AutoField',
+    )
+
+# Apply the mock to treat AutoField as not overridden
+mock.patch.object(UserSettingsHolder, 'is_overridden', mocked_is_overridden).start()
+
+django.setup()
+
+# Create the models that demonstrate the issue
+class Entity(models.Model):
+    """Base model with manually specified primary key."""
+    id = models.BigAutoField(primary_key=True)
+    name = models.CharField(max_length=100)
+    
+    class Meta:
+        app_label = 'test_app'
+
+class User(Entity):
+    """Child model that should inherit the primary key from Entity."""
+    email = models.EmailField()
+    
+    class Meta:
+        app_label = 'test_app'
+
+class SimpleModel(models.Model):
+    """Model without explicit primary key - should trigger W042."""
+    name = models.CharField(max_length=100)
+    
+    class Meta:
+        app_label = 'test_app'
+
+def debug_model(model_class, model_name):
+    print(f"\n=== {model_name} ===")
+    print(f"PK: {model_class._meta.pk}")
+    print(f"PK name: {model_class._meta.pk.name}")
+    print(f"PK auto_created: {getattr(model_class._meta.pk, 'auto_created', 'N/A')}")
+    print(f"PK primary_key: {model_class._meta.pk.primary_key}")
+    print(f"Local fields: {[f.name for f in model_class._meta.local_fields]}")
+    print(f"Parents: {model_class._meta.parents}")
+    
+    # Check if the PK is a parent link
+    for parent, field in model_class._meta.parents.items():
+        if field and field.primary_key:
+            print(f"Parent link PK from {parent}: {field}")
+            print(f"Parent link auto_created: {getattr(field, 'auto_created', 'N/A')}")
+
+def main():
+    print("Debugging model inheritance and primary key behavior...")
+    print(f"Django version: {django.get_version()}")
+    print(f"DEFAULT_AUTO_FIELD: {settings.DEFAULT_AUTO_FIELD}")
+    
+    debug_model(Entity, "Entity")
+    debug_model(User, "User") 
+    debug_model(SimpleModel, "SimpleModel")
+    
+    # Test the _check_default_pk method directly
+    print(f"\n=== _check_default_pk results ===")
+    for model_class, name in [(Entity, "Entity"), (User, "User"), (SimpleModel, "SimpleModel")]:
+        try:
+            warnings = model_class._check_default_pk()
+            print(f"{name}: {len(warnings)} warnings")
+            for warning in warnings:
+                print(f"  {warning.msg}")
+        except Exception as e:
+            print(f"{name}: Error - {e}")
+
+if __name__ == '__main__':
+    main()
diff --git a/django/db/models/base.py b/django/db/models/base.py
index 4038859cfa..7c0a7d17fb 100644
--- a/django/db/models/base.py
+++ b/django/db/models/base.py
@@ -1297,8 +1297,16 @@ class Model(metaclass=ModelBase):
 
     @classmethod
     def _check_default_pk(cls):
+        # Check if the primary key is a parent link field (inherited from a parent model)
+        is_parent_link = any(
+            field == cls._meta.pk 
+            for field in cls._meta.parents.values()
+            if field is not None
+        )
+        
         if (
             cls._meta.pk.auto_created and
+            not is_parent_link and
             not settings.is_overridden('DEFAULT_AUTO_FIELD') and
             not cls._meta.app_config._is_default_auto_field_overridden
         ):
diff --git a/reproduce_issue.py b/reproduce_issue.py
new file mode 100644
index 0000000000..fcea2685e5
--- /dev/null
+++ b/reproduce_issue.py
@@ -0,0 +1,115 @@
+#!/usr/bin/env python3
+"""
+Reproduction script for the W042 warning issue with inherited primary keys.
+
+This script demonstrates the problem where models that inherit from a parent
+with a manually specified primary key incorrectly trigger the W042 warning.
+"""
+
+import os
+import sys
+from unittest import mock
+import django
+from django.conf import settings, UserSettingsHolder
+from django.core.management import execute_from_command_line
+from django.core.checks import run_checks
+from django.db import models
+
+def mocked_is_overridden(self, setting):
+    # Force treating DEFAULT_AUTO_FIELD = 'django.db.models.AutoField' as a not
+    # overridden setting.
+    return (
+        setting != 'DEFAULT_AUTO_FIELD' or
+        self.DEFAULT_AUTO_FIELD != 'django.db.models.AutoField'
+    )
+
+# Configure Django settings
+if not settings.configured:
+    settings.configure(
+        DEBUG=True,
+        DATABASES={
+            'default': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            }
+        },
+        INSTALLED_APPS=[
+            'django.contrib.contenttypes',
+            'django.contrib.auth',
+        ],
+        SECRET_KEY='test-secret-key',
+        # Use the default AutoField to trigger the warning
+        DEFAULT_AUTO_FIELD='django.db.models.AutoField',
+    )
+
+# Apply the mock to treat AutoField as not overridden
+mock.patch.object(UserSettingsHolder, 'is_overridden', mocked_is_overridden).start()
+
+django.setup()
+
+# Create the models that demonstrate the issue
+class Entity(models.Model):
+    """Base model with manually specified primary key."""
+    id = models.BigAutoField(primary_key=True)
+    name = models.CharField(max_length=100)
+    
+    class Meta:
+        app_label = 'test_app'
+
+class User(Entity):
+    """Child model that should inherit the primary key from Entity."""
+    email = models.EmailField()
+    
+    class Meta:
+        app_label = 'test_app'
+
+class AnotherModel(models.Model):
+    """Model without explicit primary key - should trigger W042."""
+    name = models.CharField(max_length=100)
+    
+    class Meta:
+        app_label = 'test_app'
+
+def main():
+    print("Testing W042 warning behavior...")
+    print(f"Django version: {django.get_version()}")
+    print(f"DEFAULT_AUTO_FIELD: {settings.DEFAULT_AUTO_FIELD}")
+    print()
+    
+    # Run system checks
+    print("Running system checks...")
+    issues = run_checks()
+    
+    # Filter for W042 warnings
+    w042_issues = [issue for issue in issues if hasattr(issue, 'id') and issue.id == 'models.W042']
+    
+    print(f"\nFound {len(w042_issues)} W042 warnings:")
+    for issue in w042_issues:
+        print(f"  - {issue.obj.__name__}: {issue.msg}")
+        print(f"    Hint: {issue.hint}")
+    
+    print(f"\nTotal issues found: {len(issues)}")
+    
+    # Expected behavior:
+    # - User should NOT trigger W042 (inherits PK from Entity)
+    # - AnotherModel SHOULD trigger W042 (no explicit PK)
+    
+    user_has_w042 = any(issue.obj.__name__ == 'User' for issue in w042_issues)
+    another_model_has_w042 = any(issue.obj.__name__ == 'AnotherModel' for issue in w042_issues)
+    
+    print(f"\nExpected behavior:")
+    print(f"  User should NOT have W042: {not user_has_w042} (actual: {user_has_w042})")
+    print(f"  AnotherModel SHOULD have W042: {another_model_has_w042}")
+    
+    if user_has_w042:
+        print("\n❌ BUG CONFIRMED: User model incorrectly triggers W042 warning!")
+        print("   The User model inherits its primary key from Entity,")
+        print("   so it should not be considered as having an auto-created PK.")
+        return False
+    else:
+        print("\n✅ No bug detected - User model correctly does not trigger W042")
+        return True
+
+if __name__ == '__main__':
+    success = main()
+    sys.exit(0 if success else 1)
diff --git a/test_fix.py b/test_fix.py
new file mode 100644
index 0000000000..6a7721994e
--- /dev/null
+++ b/test_fix.py
@@ -0,0 +1,94 @@
+#!/usr/bin/env python3
+"""
+Test script to verify the fix for W042 warning with inherited primary keys.
+"""
+
+import os
+import sys
+from unittest import mock
+import django
+from django.conf import settings, UserSettingsHolder
+from django.core.checks import run_checks
+from django.db import models
+from django.test.utils import isolate_apps, override_settings, override_system_checks
+
+def mocked_is_overridden(self, setting):
+    # Force treating DEFAULT_AUTO_FIELD = 'django.db.models.AutoField' as a not
+    # overridden setting.
+    return (
+        setting != 'DEFAULT_AUTO_FIELD' or
+        self.DEFAULT_AUTO_FIELD != 'django.db.models.AutoField'
+    )
+
+@mock.patch('django.conf.UserSettingsHolder.is_overridden', mocked_is_overridden)
+@override_settings(DEFAULT_AUTO_FIELD='django.db.models.AutoField')
+@isolate_apps('test_app')
+@override_system_checks(['django.core.checks.model_checks.check_all_models'])
+def test_inherited_primary_key_fix():
+    """Test that models with inherited primary keys don't trigger W042."""
+    
+    class Entity(models.Model):
+        """Base model with manually specified primary key."""
+        id = models.BigAutoField(primary_key=True)
+        name = models.CharField(max_length=100)
+        
+        class Meta:
+            app_label = 'test_app'
+
+    class User(Entity):
+        """Child model that should inherit the primary key from Entity."""
+        email = models.EmailField()
+        
+        class Meta:
+            app_label = 'test_app'
+
+    class SimpleModel(models.Model):
+        """Model without explicit primary key - should trigger W042."""
+        name = models.CharField(max_length=100)
+        
+        class Meta:
+            app_label = 'test_app'
+
+    # Run system checks
+    from django.apps import apps
+    issues = run_checks(app_configs=apps.get_app_configs())
+    
+    # Filter for W042 warnings
+    w042_issues = [issue for issue in issues if hasattr(issue, 'id') and issue.id == 'models.W042']
+    
+    print(f"Found {len(w042_issues)} W042 warnings:")
+    for issue in w042_issues:
+        print(f"  - {issue.obj.__name__}: {issue.msg}")
+    
+    # Test assertions
+    user_has_w042 = any(issue.obj.__name__ == 'User' for issue in w042_issues)
+    simple_model_has_w042 = any(issue.obj.__name__ == 'SimpleModel' for issue in w042_issues)
+    entity_has_w042 = any(issue.obj.__name__ == 'Entity' for issue in w042_issues)
+    
+    print(f"\nResults:")
+    print(f"  Entity has W042: {entity_has_w042} (should be False)")
+    print(f"  User has W042: {user_has_w042} (should be False)")
+    print(f"  SimpleModel has W042: {simple_model_has_w042} (should be True)")
+    
+    # Verify the fix
+    success = True
+    if entity_has_w042:
+        print("❌ FAIL: Entity should not have W042 (has explicit PK)")
+        success = False
+    if user_has_w042:
+        print("❌ FAIL: User should not have W042 (inherits PK from Entity)")
+        success = False
+    if not simple_model_has_w042:
+        print("❌ FAIL: SimpleModel should have W042 (no explicit PK)")
+        success = False
+    
+    if success:
+        print("✅ SUCCESS: All tests passed!")
+        return True
+    else:
+        print("❌ FAILURE: Some tests failed!")
+        return False
+
+if __name__ == '__main__':
+    success = test_inherited_primary_key_fix()
+    sys.exit(0 if success else 1)
diff --git a/test_regression.py b/test_regression.py
new file mode 100644
index 0000000000..defdd83311
--- /dev/null
+++ b/test_regression.py
@@ -0,0 +1,194 @@
+#!/usr/bin/env python3
+"""
+Test to ensure no regressions in basic model functionality.
+"""
+
+import os
+import sys
+import django
+from django.conf import settings
+
+# Configure Django settings
+if not settings.configured:
+    settings.configure(
+        DEBUG=True,
+        DATABASES={
+            'default': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            }
+        },
+        INSTALLED_APPS=[
+            'django.contrib.contenttypes',
+            'django.contrib.auth',
+        ],
+        SECRET_KEY='test-secret-key',
+        DEFAULT_AUTO_FIELD='django.db.models.AutoField',
+    )
+
+django.setup()
+
+from django.db import models
+from django.core.checks import run_checks
+from django.apps import apps
+
+# Create a simple app config for testing
+from django.apps import AppConfig
+
+class TestAppConfig(AppConfig):
+    name = 'test_app'
+    path = 'test_app'
+    _is_default_auto_field_overridden = False
+
+# Register the app config
+app_config = TestAppConfig('test_app', None)
+apps.app_configs['test_app'] = app_config
+apps.ready = False
+
+def test_basic_model_functionality():
+    """Test that basic model functionality still works correctly."""
+    
+    print("Testing basic model functionality...")
+    
+    # Test 1: Simple model with auto-created PK should still trigger W042
+    class SimpleModel(models.Model):
+        name = models.CharField(max_length=100)
+        
+        class Meta:
+            app_label = 'test_app'
+    
+    # Test 2: Model with explicit PK should not trigger W042
+    class ExplicitPKModel(models.Model):
+        id = models.BigAutoField(primary_key=True)
+        name = models.CharField(max_length=100)
+        
+        class Meta:
+            app_label = 'test_app'
+    
+    # Test 3: Model inheriting from explicit PK model should not trigger W042
+    class InheritedModel(ExplicitPKModel):
+        extra_field = models.TextField()
+        
+        class Meta:
+            app_label = 'test_app'
+    
+    # Mock the settings.is_overridden to treat AutoField as not overridden
+    original_is_overridden = settings.is_overridden
+    def mock_is_overridden(setting):
+        if setting == 'DEFAULT_AUTO_FIELD':
+            return False  # Treat as not overridden
+        return original_is_overridden(setting)
+    
+    settings.is_overridden = mock_is_overridden
+    
+    try:
+        # Test _check_default_pk for each model
+        simple_warnings = len(SimpleModel._check_default_pk())
+        explicit_warnings = len(ExplicitPKModel._check_default_pk())
+        inherited_warnings = len(InheritedModel._check_default_pk())
+        
+        print(f"SimpleModel warnings: {simple_warnings} (expected: 1)")
+        print(f"ExplicitPKModel warnings: {explicit_warnings} (expected: 0)")
+        print(f"InheritedModel warnings: {inherited_warnings} (expected: 0)")
+        
+        # Test basic model attributes
+        assert SimpleModel._meta.pk.name == 'id'
+        assert SimpleModel._meta.pk.auto_created == True
+        
+        assert ExplicitPKModel._meta.pk.name == 'id'
+        assert ExplicitPKModel._meta.pk.auto_created == False
+        
+        assert InheritedModel._meta.pk.name == 'explicitpkmodel_ptr'
+        assert InheritedModel._meta.pk.auto_created == True
+        
+        # Test that parent link is correctly identified
+        is_parent_link = any(
+            field == InheritedModel._meta.pk 
+            for field in InheritedModel._meta.parents.values()
+            if field is not None
+        )
+        assert is_parent_link == True
+        
+        print("✅ All basic functionality tests passed!")
+        return True
+        
+    except Exception as e:
+        print(f"❌ Test failed: {e}")
+        return False
+        
+    finally:
+        settings.is_overridden = original_is_overridden
+
+def test_edge_cases():
+    """Test edge cases to ensure robustness."""
+    
+    print("\nTesting edge cases...")
+    
+    # Test multiple inheritance levels
+    class Level1(models.Model):
+        id = models.BigAutoField(primary_key=True)
+        
+        class Meta:
+            app_label = 'test_app'
+    
+    class Level2(Level1):
+        field2 = models.CharField(max_length=50)
+        
+        class Meta:
+            app_label = 'test_app'
+    
+    class Level3(Level2):
+        field3 = models.IntegerField()
+        
+        class Meta:
+            app_label = 'test_app'
+    
+    # Mock the settings.is_overridden
+    original_is_overridden = settings.is_overridden
+    def mock_is_overridden(setting):
+        if setting == 'DEFAULT_AUTO_FIELD':
+            return False
+        return original_is_overridden(setting)
+    
+    settings.is_overridden = mock_is_overridden
+    
+    try:
+        level1_warnings = len(Level1._check_default_pk())
+        level2_warnings = len(Level2._check_default_pk())
+        level3_warnings = len(Level3._check_default_pk())
+        
+        print(f"Level1 warnings: {level1_warnings} (expected: 0)")
+        print(f"Level2 warnings: {level2_warnings} (expected: 0)")
+        print(f"Level3 warnings: {level3_warnings} (expected: 0)")
+        
+        if level1_warnings == 0 and level2_warnings == 0 and level3_warnings == 0:
+            print("✅ Edge case tests passed!")
+            return True
+        else:
+            print("❌ Edge case tests failed!")
+            return False
+            
+    except Exception as e:
+        print(f"❌ Edge case test failed: {e}")
+        return False
+        
+    finally:
+        settings.is_overridden = original_is_overridden
+
+def main():
+    print("Running regression tests for W042 fix...")
+    print(f"Django version: {django.get_version()}")
+    
+    test1_passed = test_basic_model_functionality()
+    test2_passed = test_edge_cases()
+    
+    if test1_passed and test2_passed:
+        print("\n✅ All regression tests passed!")
+        return True
+    else:
+        print("\n❌ Some regression tests failed!")
+        return False
+
+if __name__ == '__main__':
+    success = main()
+    sys.exit(0 if success else 1)
diff --git a/tests/check_framework/test_model_checks.py b/tests/check_framework/test_model_checks.py
index d4342ada07..edf429176a 100644
--- a/tests/check_framework/test_model_checks.py
+++ b/tests/check_framework/test_model_checks.py
@@ -415,3 +415,37 @@ class ModelDefaultAutoFieldTests(SimpleTestCase):
                 app_label = 'check_framework.apps.CheckPKConfig'
 
         self.assertEqual(checks.run_checks(app_configs=apps.get_app_configs()), [])
+
+    def test_inherited_primary_key_no_warning(self):
+        """Models that inherit primary keys from parent models should not trigger W042."""
+        
+        class Entity(models.Model):
+            id = models.BigAutoField(primary_key=True)
+            name = models.CharField(max_length=100)
+            
+            class Meta:
+                app_label = 'check_framework'
+
+        class User(Entity):
+            email = models.EmailField()
+            
+            class Meta:
+                app_label = 'check_framework'
+
+        class SimpleModel(models.Model):
+            name = models.CharField(max_length=100)
+            
+            class Meta:
+                app_label = 'check_framework'
+
+        issues = checks.run_checks(app_configs=self.apps.get_app_configs())
+        w042_issues = [issue for issue in issues if hasattr(issue, 'id') and issue.id == 'models.W042']
+        
+        # Entity should not have W042 (has explicit PK)
+        # User should not have W042 (inherits PK from Entity)  
+        # SimpleModel should have W042 (no explicit PK)
+        model_names_with_w042 = [issue.obj.__name__ for issue in w042_issues]
+        
+        self.assertNotIn('Entity', model_names_with_w042)
+        self.assertNotIn('User', model_names_with_w042)
+        self.assertIn('SimpleModel', model_names_with_w042)
diff --git a/verify_fix.py b/verify_fix.py
new file mode 100644
index 0000000000..ef2dd5b85b
--- /dev/null
+++ b/verify_fix.py
@@ -0,0 +1,120 @@
+#!/usr/bin/env python3
+"""
+Simple verification script for the W042 fix.
+"""
+
+import os
+import sys
+import django
+from django.conf import settings
+
+# Configure Django settings
+if not settings.configured:
+    settings.configure(
+        DEBUG=True,
+        DATABASES={
+            'default': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            }
+        },
+        INSTALLED_APPS=[
+            'django.contrib.contenttypes',
+            'django.contrib.auth',
+        ],
+        SECRET_KEY='test-secret-key',
+        DEFAULT_AUTO_FIELD='django.db.models.AutoField',
+    )
+
+django.setup()
+
+from django.db import models
+from django.core.checks import run_checks
+from django.apps import apps
+
+# Create a simple app config for testing
+from django.apps import AppConfig
+
+class TestAppConfig(AppConfig):
+    name = 'test_app'
+    path = 'test_app'
+    _is_default_auto_field_overridden = False
+
+# Register the app config
+app_config = TestAppConfig('test_app', None)
+apps.app_configs['test_app'] = app_config
+apps.ready = False
+
+# Create the models
+class Entity(models.Model):
+    """Base model with manually specified primary key."""
+    id = models.BigAutoField(primary_key=True)
+    name = models.CharField(max_length=100)
+    
+    class Meta:
+        app_label = 'test_app'
+
+class User(Entity):
+    """Child model that should inherit the primary key from Entity."""
+    email = models.EmailField()
+    
+    class Meta:
+        app_label = 'test_app'
+
+class SimpleModel(models.Model):
+    """Model without explicit primary key - should trigger W042."""
+    name = models.CharField(max_length=100)
+    
+    class Meta:
+        app_label = 'test_app'
+
+def main():
+    print("Verifying W042 fix for inherited primary keys...")
+    print(f"Django version: {django.get_version()}")
+    
+    # Test the _check_default_pk method directly
+    print(f"\n=== Testing _check_default_pk directly ===")
+    
+    # Mock the settings.is_overridden to treat AutoField as not overridden
+    original_is_overridden = settings.is_overridden
+    def mock_is_overridden(setting):
+        if setting == 'DEFAULT_AUTO_FIELD':
+            return False  # Treat as not overridden
+        return original_is_overridden(setting)
+    
+    settings.is_overridden = mock_is_overridden
+    
+    try:
+        for model_class, name in [(Entity, "Entity"), (User, "User"), (SimpleModel, "SimpleModel")]:
+            warnings = model_class._check_default_pk()
+            print(f"{name}: {len(warnings)} warnings")
+            for warning in warnings:
+                print(f"  {warning.msg}")
+        
+        # Expected behavior:
+        # - Entity: 0 warnings (has explicit PK)
+        # - User: 0 warnings (inherits PK from Entity) 
+        # - SimpleModel: 1 warning (no explicit PK)
+        
+        entity_warnings = len(Entity._check_default_pk())
+        user_warnings = len(User._check_default_pk())
+        simple_warnings = len(SimpleModel._check_default_pk())
+        
+        print(f"\n=== Results ===")
+        print(f"Entity warnings: {entity_warnings} (expected: 0)")
+        print(f"User warnings: {user_warnings} (expected: 0)")
+        print(f"SimpleModel warnings: {simple_warnings} (expected: 1)")
+        
+        if entity_warnings == 0 and user_warnings == 0 and simple_warnings == 1:
+            print("✅ SUCCESS: Fix is working correctly!")
+            return True
+        else:
+            print("❌ FAILURE: Fix is not working as expected!")
+            return False
+            
+    finally:
+        settings.is_overridden = original_is_overridden
+
+if __name__ == '__main__':
+    success = main()
+    sys.exit(0 if success else 1)
--------
2026-01-06 15:07:44,958 - INFO - Using instance container image: docker.io/swebench/sweb.eval.x86_64.django_1776_django-15781:latest. Please make sure this image exists. Submit an issue on https://github.com/OpenHands/OpenHands if you run into any issues.
2026-01-06 15:07:44,958 - INFO - Resource mapping for princeton-nlp__SWE-bench_Lite-test not found.
2026-01-06 15:07:44,959 - INFO - Logging LLM completions for instance django__django-15781 to ./continuum32/princeton-nlp__SWE-bench_Lite-test/CodeActAgent/GLM-4.6-FP8_maxiter_135/llm_completions/django__django-15781
2026-01-06 15:07:44,959 - INFO - Config file not found: config.toml. Error: [Errno 2] No such file or directory: 'config.toml'
2026-01-06 15:07:44,959 - INFO - Config file not found: [Errno 2] No such file or directory: 'config.toml'. Toml values have not been applied.
