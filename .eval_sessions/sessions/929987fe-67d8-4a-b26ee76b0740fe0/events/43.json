{"id": 43, "timestamp": "2026-01-06T16:07:10.947535", "source": "agent", "message": "I read the file /workspace/pylint-dev__pylint__2.15/pylint/checkers/base/name_checker/naming_style.py.", "cause": 42, "observation": "read", "tool_call_metadata": {"function_name": "str_replace_editor", "tool_call_id": "toolu_19", "model_response": {"id": "chatcmpl-02f26ee5d747412aa7ebc9c8d8245df1", "created": 1767715629, "model": "/mnt/shared/models/GLM-4.6-FP8", "object": "chat.completion", "system_fingerprint": null, "choices": [{"finish_reason": "stop", "index": 0, "message": {"content": "<think></think>", "role": "assistant", "tool_calls": [{"index": 1, "function": {"arguments": "{\"command\": \"view\", \"path\": \"/workspace/pylint-dev__pylint__2.15/pylint/checkers/base/name_checker/naming_style.py\", \"security_risk\": \"LOW\"}", "name": "str_replace_editor"}, "id": "toolu_19", "type": "function"}], "function_call": null, "provider_specific_fields": null}}], "usage": {"completion_tokens": 61, "prompt_tokens": 0, "total_tokens": 61, "completion_tokens_details": {"accepted_prediction_tokens": null, "audio_tokens": null, "reasoning_tokens": 0, "rejected_prediction_tokens": null, "text_tokens": null, "image_tokens": null}, "prompt_tokens_details": null}}, "total_calls_in_response": 1}, "content": "Here's the result of running `cat -n` on /workspace/pylint-dev__pylint__2.15/pylint/checkers/base/name_checker/naming_style.py:\n     1\t# Licensed under the GPL: https://www.gnu.org/licenses/old-licenses/gpl-2.0.html\n     2\t# For details: https://github.com/PyCQA/pylint/blob/main/LICENSE\n     3\t# Copyright (c) https://github.com/PyCQA/pylint/blob/main/CONTRIBUTORS.txt\n     4\t\n     5\tfrom __future__ import annotations\n     6\t\n     7\timport re\n     8\tfrom re import Pattern\n     9\t\n    10\tfrom pylint import constants\n    11\tfrom pylint.typing import OptionDict, Options\n    12\t\n    13\t\n    14\tclass NamingStyle:\n    15\t    \"\"\"Class to register all accepted forms of a single naming style.\n    16\t\n    17\t    It may seem counter-intuitive that single naming style has multiple \"accepted\"\n    18\t    forms of regular expressions, but we need to special-case stuff like dunder\n    19\t    names in method names.\n    20\t    \"\"\"\n    21\t\n    22\t    ANY: Pattern[str] = re.compile(\".*\")\n    23\t    CLASS_NAME_RGX: Pattern[str] = ANY\n    24\t    MOD_NAME_RGX: Pattern[str] = ANY\n    25\t    CONST_NAME_RGX: Pattern[str] = ANY\n    26\t    COMP_VAR_RGX: Pattern[str] = ANY\n    27\t    DEFAULT_NAME_RGX: Pattern[str] = ANY\n    28\t    CLASS_ATTRIBUTE_RGX: Pattern[str] = ANY\n    29\t\n    30\t    @classmethod\n    31\t    def get_regex(cls, name_type: str) -> Pattern[str]:\n    32\t        return {\n    33\t            \"module\": cls.MOD_NAME_RGX,\n    34\t            \"const\": cls.CONST_NAME_RGX,\n    35\t            \"class\": cls.CLASS_NAME_RGX,\n    36\t            \"function\": cls.DEFAULT_NAME_RGX,\n    37\t            \"method\": cls.DEFAULT_NAME_RGX,\n    38\t            \"attr\": cls.DEFAULT_NAME_RGX,\n    39\t            \"argument\": cls.DEFAULT_NAME_RGX,\n    40\t            \"variable\": cls.DEFAULT_NAME_RGX,\n    41\t            \"class_attribute\": cls.CLASS_ATTRIBUTE_RGX,\n    42\t            \"class_const\": cls.CONST_NAME_RGX,\n    43\t            \"inlinevar\": cls.COMP_VAR_RGX,\n    44\t        }[name_type]\n    45\t\n    46\t\n    47\tclass SnakeCaseStyle(NamingStyle):\n    48\t    \"\"\"Regex rules for snake_case naming style.\"\"\"\n    49\t\n    50\t    CLASS_NAME_RGX = re.compile(r\"[^\\W\\dA-Z][^\\WA-Z]+$\")\n    51\t    MOD_NAME_RGX = re.compile(r\"[^\\W\\dA-Z][^\\WA-Z]*$\")\n    52\t    CONST_NAME_RGX = re.compile(r\"([^\\W\\dA-Z][^\\WA-Z]*|__.*__)$\")\n    53\t    COMP_VAR_RGX = CLASS_NAME_RGX\n    54\t    DEFAULT_NAME_RGX = re.compile(\n    55\t        r\"([^\\W\\dA-Z][^\\WA-Z]{2,}|_[^\\WA-Z]*|__[^\\WA-Z\\d_][^\\WA-Z]+__)$\"\n    56\t    )\n    57\t    CLASS_ATTRIBUTE_RGX = re.compile(r\"([^\\W\\dA-Z][^\\WA-Z]{2,}|__.*__)$\")\n    58\t\n    59\t\n    60\tclass CamelCaseStyle(NamingStyle):\n    61\t    \"\"\"Regex rules for camelCase naming style.\"\"\"\n    62\t\n    63\t    CLASS_NAME_RGX = re.compile(r\"[^\\W\\dA-Z][^\\W_]+$\")\n    64\t    MOD_NAME_RGX = re.compile(r\"[^\\W\\dA-Z][^\\W_]*$\")\n    65\t    CONST_NAME_RGX = re.compile(r\"([^\\W\\dA-Z][^\\W_]*|__.*__)$\")\n    66\t    COMP_VAR_RGX = MOD_NAME_RGX\n    67\t    DEFAULT_NAME_RGX = re.compile(r\"([^\\W\\dA-Z][^\\W_]{2,}|__[^\\W\\dA-Z_]\\w+__)$\")\n    68\t    CLASS_ATTRIBUTE_RGX = re.compile(r\"([^\\W\\dA-Z][^\\W_]{2,}|__.*__)$\")\n    69\t\n    70\t\n    71\tclass PascalCaseStyle(NamingStyle):\n    72\t    \"\"\"Regex rules for PascalCase naming style.\"\"\"\n    73\t\n    74\t    CLASS_NAME_RGX = re.compile(r\"[^\\W\\da-z][^\\W_]+$\")\n    75\t    MOD_NAME_RGX = CLASS_NAME_RGX\n    76\t    CONST_NAME_RGX = re.compile(r\"([^\\W\\da-z][^\\W_]*|__.*__)$\")\n    77\t    COMP_VAR_RGX = CLASS_NAME_RGX\n    78\t    DEFAULT_NAME_RGX = re.compile(r\"([^\\W\\da-z][^\\W_]{2,}|__[^\\W\\dA-Z_]\\w+__)$\")\n    79\t    CLASS_ATTRIBUTE_RGX = re.compile(r\"[^\\W\\da-z][^\\W_]{2,}$\")\n    80\t\n    81\t\n    82\tclass UpperCaseStyle(NamingStyle):\n    83\t    \"\"\"Regex rules for UPPER_CASE naming style.\"\"\"\n    84\t\n    85\t    CLASS_NAME_RGX = re.compile(r\"[^\\W\\da-z][^\\Wa-z]+$\")\n    86\t    MOD_NAME_RGX = CLASS_NAME_RGX\n    87\t    CONST_NAME_RGX = re.compile(r\"([^\\W\\da-z][^\\Wa-z]*|__.*__)$\")\n    88\t    COMP_VAR_RGX = CLASS_NAME_RGX\n    89\t    DEFAULT_NAME_RGX = re.compile(r\"([^\\W\\da-z][^\\Wa-z]{2,}|__[^\\W\\dA-Z_]\\w+__)$\")\n    90\t    CLASS_ATTRIBUTE_RGX = re.compile(r\"[^\\W\\da-z][^\\Wa-z]{2,}$\")\n    91\t\n    92\t\n    93\tclass AnyStyle(NamingStyle):\n    94\t    pass\n    95\t\n    96\t\n    97\tNAMING_STYLES = {\n    98\t    \"snake_case\": SnakeCaseStyle,\n    99\t    \"camelCase\": CamelCaseStyle,\n   100\t    \"PascalCase\": PascalCaseStyle,\n   101\t    \"UPPER_CASE\": UpperCaseStyle,\n   102\t    \"any\": AnyStyle,\n   103\t}\n   104\t\n   105\t# Name types that have a style option\n   106\tKNOWN_NAME_TYPES_WITH_STYLE = {\n   107\t    \"module\",\n   108\t    \"const\",\n   109\t    \"class\",\n   110\t    \"function\",\n   111\t    \"method\",\n   112\t    \"attr\",\n   113\t    \"argument\",\n   114\t    \"variable\",\n   115\t    \"class_attribute\",\n   116\t    \"class_const\",\n   117\t    \"inlinevar\",\n   118\t}\n   119\t\n   120\t\n   121\tDEFAULT_NAMING_STYLES = {\n   122\t    \"module\": \"snake_case\",\n   123\t    \"const\": \"UPPER_CASE\",\n   124\t    \"class\": \"PascalCase\",\n   125\t    \"function\": \"snake_case\",\n   126\t    \"method\": \"snake_case\",\n   127\t    \"attr\": \"snake_case\",\n   128\t    \"argument\": \"snake_case\",\n   129\t    \"variable\": \"snake_case\",\n   130\t    \"class_attribute\": \"any\",\n   131\t    \"class_const\": \"UPPER_CASE\",\n   132\t    \"inlinevar\": \"any\",\n   133\t}\n   134\t\n   135\t\n   136\t# Name types that have a 'rgx' option\n   137\tKNOWN_NAME_TYPES = {\n   138\t    *KNOWN_NAME_TYPES_WITH_STYLE,\n   139\t    \"typevar\",\n   140\t}\n   141\t\n   142\t\n   143\tdef _create_naming_options() -> Options:\n   144\t    name_options: list[tuple[str, OptionDict]] = []\n   145\t    for name_type in sorted(KNOWN_NAME_TYPES):\n   146\t        human_readable_name = constants.HUMAN_READABLE_TYPES[name_type]\n   147\t        name_type_hyphened = name_type.replace(\"_\", \"-\")\n   148\t\n   149\t        help_msg = f\"Regular expression matching correct {human_readable_name} names. \"\n   150\t        if name_type in KNOWN_NAME_TYPES_WITH_STYLE:\n   151\t            help_msg += f\"Overrides {name_type_hyphened}-naming-style. \"\n   152\t        help_msg += f\"If left empty, {human_readable_name} names will be checked with the set naming style.\"\n   153\t\n   154\t        # Add style option for names that support it\n   155\t        if name_type in KNOWN_NAME_TYPES_WITH_STYLE:\n   156\t            default_style = DEFAULT_NAMING_STYLES[name_type]\n   157\t            name_options.append(\n   158\t                (\n   159\t                    f\"{name_type_hyphened}-naming-style\",\n   160\t                    {\n   161\t                        \"default\": default_style,\n   162\t                        \"type\": \"choice\",\n   163\t                        \"choices\": list(NAMING_STYLES.keys()),\n   164\t                        \"metavar\": \"<style>\",\n   165\t                        \"help\": f\"Naming style matching correct {human_readable_name} names.\",\n   166\t                    },\n   167\t                )\n   168\t            )\n   169\t\n   170\t        name_options.append(\n   171\t            (\n   172\t                f\"{name_type_hyphened}-rgx\",\n   173\t                {\n   174\t                    \"default\": None,\n   175\t                    \"type\": \"regexp\",\n   176\t                    \"metavar\": \"<regexp>\",\n   177\t                    \"help\": help_msg,\n   178\t                },\n   179\t            )\n   180\t        )\n   181\t    return tuple(name_options)\n   182\t\n", "extras": {"path": "/workspace/pylint-dev__pylint__2.15/pylint/checkers/base/name_checker/naming_style.py", "impl_source": "oh_aci"}}