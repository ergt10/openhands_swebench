{"id": 44, "timestamp": "2026-01-06T15:55:39.955316", "source": "agent", "message": "I edited the file /workspace/mwaskom__seaborn__0.12/reproduce_issue.py.", "cause": 43, "observation": "edit", "tool_call_metadata": {"function_name": "str_replace_editor", "tool_call_id": "toolu_19", "model_response": {"id": "chatcmpl-802a2ffb99bf444387953bb1dff7d59f", "created": 1767714865, "model": "/mnt/shared/models/GLM-4.6-FP8", "object": "chat.completion", "system_fingerprint": null, "choices": [{"finish_reason": "stop", "index": 0, "message": {"content": "<think></think>", "role": "assistant", "tool_calls": [{"index": 1, "function": {"arguments": "{\"command\": \"str_replace\", \"path\": \"/workspace/mwaskom__seaborn__0.12/reproduce_issue.py\", \"old_str\": \"#!/usr/bin/env python3\\n\\\"\\\"\\\"\\nScript to reproduce the PolyFit missing data issue.\\n\\\"\\\"\\\"\\n\\nimport seaborn.objects as so\\nimport numpy as np\\nimport pandas as pd\\n\\ndef test_missing_data_issue():\\n    \\\"\\\"\\\"Test the original issue with missing data.\\\"\\\"\\\"\\n    print(\\\"Testing PolyFit with missing data...\\\")\\n    try:\\n        plot = so.Plot([1, 2, 3, None, 4], [1, 2, 3, 4, 5]).add(so.Line(), so.PolyFit())\\n        result = plot.plot()\\n        print(\\\"SUCCESS: No error occurred\\\")\\n        return True\\n    except Exception as e:\\n        print(f\\\"ERROR: {type(e).__name__}: {e}\\\")\\n        return False\\n\\ndef test_missing_data_dataframe():\\n    \\\"\\\"\\\"Test with DataFrame containing missing data.\\\"\\\"\\\"\\n    print(\\\"\\\\nTesting PolyFit with DataFrame containing missing data...\\\")\\n    try:\\n        df = pd.DataFrame({\\n            'x': [1, 2, 3, None, 4],\\n            'y': [1, 2, 3, 4, 5]\\n        })\\n        plot = so.Plot(df, x='x', y='y').add(so.Line(), so.PolyFit())\\n        result = plot.plot()\\n        print(\\\"SUCCESS: No error occurred\\\")\\n        return True\\n    except Exception as e:\\n        print(f\\\"ERROR: {type(e).__name__}: {e}\\\")\\n        return False\\n\\ndef test_no_missing_data():\\n    \\\"\\\"\\\"Test that normal data still works.\\\"\\\"\\\"\\n    print(\\\"\\\\nTesting PolyFit with no missing data (should work)...\\\")\\n    try:\\n        plot = so.Plot([1, 2, 3, 4, 5], [1, 2, 3, 4, 5]).add(so.Line(), so.PolyFit())\\n        result = plot.plot()\\n        print(\\\"SUCCESS: No error occurred\\\")\\n        return True\\n    except Exception as e:\\n        print(f\\\"ERROR: {type(e).__name__}: {e}\\\")\\n        return False\\n\\ndef test_all_missing_data():\\n    \\\"\\\"\\\"Test edge case with all missing data.\\\"\\\"\\\"\\n    print(\\\"\\\\nTesting PolyFit with all missing data...\\\")\\n    try:\\n        plot = so.Plot([None, None, None], [1, 2, 3]).add(so.Line(), so.PolyFit())\\n        result = plot.plot()\\n        print(\\\"SUCCESS: No error occurred\\\")\\n        return True\\n    except Exception as e:\\n        print(f\\\"ERROR: {type(e).__name__}: {e}\\\")\\n        return False\\n\\nif __name__ == \\\"__main__\\\":\\n    print(\\\"=\\\" * 60)\\n    print(\\\"REPRODUCING POLYFIT MISSING DATA ISSUE\\\")\\n    print(\\\"=\\\" * 60)\\n    \\n    # Test the original issue\\n    test_missing_data_issue()\\n    \\n    # Test with DataFrame\\n    test_missing_data_dataframe()\\n    \\n    # Test normal case\\n    test_no_missing_data()\\n    \\n    # Test edge case\\n    test_all_missing_data()\\n    \\n    print(\\\"\\\\n\\\" + \\\"=\\\" * 60)\\n    print(\\\"REPRODUCTION COMPLETE\\\")\\n    print(\\\"=\\\" * 60)\", \"new_str\": \"#!/usr/bin/env python3\\n\\\"\\\"\\\"\\nScript to reproduce the PolyFit missing data issue.\\n\\\"\\\"\\\"\\n\\nimport seaborn.objects as so\\nimport numpy as np\\nimport pandas as pd\\nfrom seaborn._stats.regression import PolyFit\\n\\ndef test_polyfit_direct():\\n    \\\"\\\"\\\"Test PolyFit._fit_predict method directly.\\\"\\\"\\\"\\n    print(\\\"Testing PolyFit._fit_predict directly...\\\")\\n    try:\\n        df = pd.DataFrame({\\n            'x': [1, 2, 3, None, 4],\\n            'y': [1, 2, 3, 4, 5]\\n        })\\n        polyfit = PolyFit()\\n        result = polyfit._fit_predict(df)\\n        print(f\\\"SUCCESS: Got result with shape {result.shape}\\\")\\n        print(f\\\"X range: {result['x'].min():.2f} to {result['x'].max():.2f}\\\")\\n        print(f\\\"Y range: {result['y'].min():.2f} to {result['y'].max():.2f}\\\")\\n        return True\\n    except Exception as e:\\n        print(f\\\"ERROR: {type(e).__name__}: {e}\\\")\\n        return False\\n\\ndef test_missing_data_issue():\\n    \\\"\\\"\\\"Test the original issue with missing data.\\\"\\\"\\\"\\n    print(\\\"\\\\nTesting PolyFit with missing data...\\\")\\n    try:\\n        plot = so.Plot([1, 2, 3, None, 4], [1, 2, 3, 4, 5]).add(so.Line(), so.PolyFit())\\n        result = plot.plot()\\n        print(\\\"SUCCESS: No error occurred\\\")\\n        return True\\n    except Exception as e:\\n        print(f\\\"ERROR: {type(e).__name__}: {e}\\\")\\n        return False\\n\\ndef test_missing_data_dataframe():\\n    \\\"\\\"\\\"Test with DataFrame containing missing data.\\\"\\\"\\\"\\n    print(\\\"\\\\nTesting PolyFit with DataFrame containing missing data...\\\")\\n    try:\\n        df = pd.DataFrame({\\n            'x': [1, 2, 3, None, 4],\\n            'y': [1, 2, 3, 4, 5]\\n        })\\n        plot = so.Plot(df, x='x', y='y').add(so.Line(), so.PolyFit())\\n        result = plot.plot()\\n        print(\\\"SUCCESS: No error occurred\\\")\\n        return True\\n    except Exception as e:\\n        print(f\\\"ERROR: {type(e).__name__}: {e}\\\")\\n        return False\\n\\ndef test_no_missing_data():\\n    \\\"\\\"\\\"Test that normal data still works.\\\"\\\"\\\"\\n    print(\\\"\\\\nTesting PolyFit with no missing data (should work)...\\\")\\n    try:\\n        plot = so.Plot([1, 2, 3, 4, 5], [1, 2, 3, 4, 5]).add(so.Line(), so.PolyFit())\\n        result = plot.plot()\\n        print(\\\"SUCCESS: No error occurred\\\")\\n        return True\\n    except Exception as e:\\n        print(f\\\"ERROR: {type(e).__name__}: {e}\\\")\\n        return False\\n\\ndef test_all_missing_data():\\n    \\\"\\\"\\\"Test edge case with all missing data.\\\"\\\"\\\"\\n    print(\\\"\\\\nTesting PolyFit with all missing data...\\\")\\n    try:\\n        plot = so.Plot([None, None, None], [1, 2, 3]).add(so.Line(), so.PolyFit())\\n        result = plot.plot()\\n        print(\\\"SUCCESS: No error occurred\\\")\\n        return True\\n    except Exception as e:\\n        print(f\\\"ERROR: {type(e).__name__}: {e}\\\")\\n        return False\\n\\ndef test_edge_cases():\\n    \\\"\\\"\\\"Test various edge cases.\\\"\\\"\\\"\\n    print(\\\"\\\\nTesting edge cases...\\\")\\n    \\n    # Test with only one valid point\\n    try:\\n        df = pd.DataFrame({\\n            'x': [1, None, None],\\n            'y': [1, 2, 3]\\n        })\\n        polyfit = PolyFit()\\n        result = polyfit._fit_predict(df)\\n        print(f\\\"SUCCESS: One valid point - result shape {result.shape}\\\")\\n    except Exception as e:\\n        print(f\\\"ERROR with one valid point: {type(e).__name__}: {e}\\\")\\n    \\n    # Test with no valid points\\n    try:\\n        df = pd.DataFrame({\\n            'x': [None, None, None],\\n            'y': [1, 2, 3]\\n        })\\n        polyfit = PolyFit()\\n        result = polyfit._fit_predict(df)\\n        print(f\\\"SUCCESS: No valid points - result shape {result.shape}\\\")\\n    except Exception as e:\\n        print(f\\\"ERROR with no valid points: {type(e).__name__}: {e}\\\")\\n\\nif __name__ == \\\"__main__\\\":\\n    print(\\\"=\\\" * 60)\\n    print(\\\"REPRODUCING POLYFIT MISSING DATA ISSUE\\\")\\n    print(\\\"=\\\" * 60)\\n    \\n    # Test direct method first\\n    test_polyfit_direct()\\n    \\n    # Test the original issue\\n    test_missing_data_issue()\\n    \\n    # Test with DataFrame\\n    test_missing_data_dataframe()\\n    \\n    # Test normal case\\n    test_no_missing_data()\\n    \\n    # Test edge case\\n    test_all_missing_data()\\n    \\n    # Test additional edge cases\\n    test_edge_cases()\\n    \\n    print(\\\"\\\\n\\\" + \\\"=\\\" * 60)\\n    print(\\\"REPRODUCTION COMPLETE\\\")\\n    print(\\\"=\\\" * 60)\", \"security_risk\": \"LOW\"}", "name": "str_replace_editor"}, "id": "toolu_19", "type": "function"}], "function_call": null, "provider_specific_fields": null}}], "usage": {"completion_tokens": 1828, "prompt_tokens": 0, "total_tokens": 1828, "completion_tokens_details": {"accepted_prediction_tokens": null, "audio_tokens": null, "reasoning_tokens": 0, "rejected_prediction_tokens": null, "text_tokens": null, "image_tokens": null}, "prompt_tokens_details": null}}, "total_calls_in_response": 1}, "content": "The file /workspace/mwaskom__seaborn__0.12/reproduce_issue.py has been edited. Here's the result of running `cat -n` on a snippet of /workspace/mwaskom__seaborn__0.12/reproduce_issue.py:\n     1\t#!/usr/bin/env python3\n     2\t\"\"\"\n     3\tScript to reproduce the PolyFit missing data issue.\n     4\t\"\"\"\n     5\t\n     6\timport seaborn.objects as so\n     7\timport numpy as np\n     8\timport pandas as pd\n     9\tfrom seaborn._stats.regression import PolyFit\n    10\t\n    11\tdef test_polyfit_direct():\n    12\t    \"\"\"Test PolyFit._fit_predict method directly.\"\"\"\n    13\t    print(\"Testing PolyFit._fit_predict directly...\")\n    14\t    try:\n    15\t        df = pd.DataFrame({\n    16\t            'x': [1, 2, 3, None, 4],\n    17\t            'y': [1, 2, 3, 4, 5]\n    18\t        })\n    19\t        polyfit = PolyFit()\n    20\t        result = polyfit._fit_predict(df)\n    21\t        print(f\"SUCCESS: Got result with shape {result.shape}\")\n    22\t        print(f\"X range: {result['x'].min():.2f} to {result['x'].max():.2f}\")\n    23\t        print(f\"Y range: {result['y'].min():.2f} to {result['y'].max():.2f}\")\n    24\t        return True\n    25\t    except Exception as e:\n    26\t        print(f\"ERROR: {type(e).__name__}: {e}\")\n    27\t        return False\n    28\t\n    29\tdef test_missing_data_issue():\n    30\t    \"\"\"Test the original issue with missing data.\"\"\"\n    31\t    print(\"\\nTesting PolyFit with missing data...\")\n    32\t    try:\n    33\t        plot = so.Plot([1, 2, 3, None, 4], [1, 2, 3, 4, 5]).add(so.Line(), so.PolyFit())\n    34\t        result = plot.plot()\n    35\t        print(\"SUCCESS: No error occurred\")\n    36\t        return True\n    37\t    except Exception as e:\n    38\t        print(f\"ERROR: {type(e).__name__}: {e}\")\n    39\t        return False\n    40\t\n    41\tdef test_missing_data_dataframe():\n    42\t    \"\"\"Test with DataFrame containing missing data.\"\"\"\n    43\t    print(\"\\nTesting PolyFit with DataFrame containing missing data...\")\n    44\t    try:\n    45\t        df = pd.DataFrame({\n    46\t            'x': [1, 2, 3, None, 4],\n    47\t            'y': [1, 2, 3, 4, 5]\n    48\t        })\n    49\t        plot = so.Plot(df, x='x', y='y').add(so.Line(), so.PolyFit())\n    50\t        result = plot.plot()\n    51\t        print(\"SUCCESS: No error occurred\")\n    52\t        return True\n    53\t    except Exception as e:\n    54\t        print(f\"ERROR: {type(e).__name__}: {e}\")\n    55\t        return False\n    56\t\n    57\tdef test_no_missing_data():\n    58\t    \"\"\"Test that normal data still works.\"\"\"\n    59\t    print(\"\\nTesting PolyFit with no missing data (should work)...\")\n    60\t    try:\n    61\t        plot = so.Plot([1, 2, 3, 4, 5], [1, 2, 3, 4, 5]).add(so.Line(), so.PolyFit())\n    62\t        result = plot.plot()\n    63\t        print(\"SUCCESS: No error occurred\")\n    64\t        return True\n    65\t    except Exception as e:\n    66\t        print(f\"ERROR: {type(e).__name__}: {e}\")\n    67\t        return False\n    68\t\n    69\tdef test_all_missing_data():\n    70\t    \"\"\"Test edge case with all missing data.\"\"\"\n    71\t    print(\"\\nTesting PolyFit with all missing data...\")\n    72\t    try:\n    73\t        plot = so.Plot([None, None, None], [1, 2, 3]).add(so.Line(), so.PolyFit())\n    74\t        result = plot.plot()\n    75\t        print(\"SUCCESS: No error occurred\")\n    76\t        return True\n    77\t    except Exception as e:\n    78\t        print(f\"ERROR: {type(e).__name__}: {e}\")\n    79\t        return False\n    80\t\n    81\tdef test_edge_cases():\n    82\t    \"\"\"Test various edge cases.\"\"\"\n    83\t    print(\"\\nTesting edge cases...\")\n    84\t    \n    85\t    # Test with only one valid point\n    86\t    try:\n    87\t        df = pd.DataFrame({\n    88\t            'x': [1, None, None],\n    89\t            'y': [1, 2, 3]\n    90\t        })\n    91\t        polyfit = PolyFit()\n    92\t        result = polyfit._fit_predict(df)\n    93\t        print(f\"SUCCESS: One valid point - result shape {result.shape}\")\n    94\t    except Exception as e:\n    95\t        print(f\"ERROR with one valid point: {type(e).__name__}: {e}\")\n    96\t    \n    97\t    # Test with no valid points\n    98\t    try:\n    99\t        df = pd.DataFrame({\n   100\t            'x': [None, None, None],\n   101\t            'y': [1, 2, 3]\n   102\t        })\n   103\t        polyfit = PolyFit()\n   104\t        result = polyfit._fit_predict(df)\n   105\t        print(f\"SUCCESS: No valid points - result shape {result.shape}\")\n   106\t    except Exception as e:\n   107\t        print(f\"ERROR with no valid points: {type(e).__name__}: {e}\")\n   108\t\n   109\tif __name__ == \"__main__\":\n   110\t    print(\"=\" * 60)\n   111\t    print(\"REPRODUCING POLYFIT MISSING DATA ISSUE\")\n   112\t    print(\"=\" * 60)\n   113\t    \n   114\t    # Test direct method first\n   115\t    test_polyfit_direct()\n   116\t    \n   117\t    # Test the original issue\n   118\t    test_missing_data_issue()\n   119\t    \n   120\t    # Test with DataFrame\n   121\t    test_missing_data_dataframe()\n   122\t    \n   123\t    # Test normal case\n   124\t    test_no_missing_data()\n   125\t    \n   126\t    # Test edge case\n   127\t    test_all_missing_data()\n   128\t    \n   129\t    # Test additional edge cases\n   130\t    test_edge_cases()\n   131\t    \n   132\t    print(\"\\n\" + \"=\" * 60)\n   133\t    print(\"REPRODUCTION COMPLETE\")\n   134\t    print(\"=\" * 60)\n   135\t\nReview the changes and make sure they are as expected. Edit the file again if necessary.", "extras": {"path": "/workspace/mwaskom__seaborn__0.12/reproduce_issue.py", "prev_exist": false, "old_content": "#!/usr/bin/env python3\n\"\"\"\nScript to reproduce the PolyFit missing data issue.\n\"\"\"\n\nimport seaborn.objects as so\nimport numpy as np\nimport pandas as pd\n\ndef test_missing_data_issue():\n    \"\"\"Test the original issue with missing data.\"\"\"\n    print(\"Testing PolyFit with missing data...\")\n    try:\n        plot = so.Plot([1, 2, 3, None, 4], [1, 2, 3, 4, 5]).add(so.Line(), so.PolyFit())\n        result = plot.plot()\n        print(\"SUCCESS: No error occurred\")\n        return True\n    except Exception as e:\n        print(f\"ERROR: {type(e).__name__}: {e}\")\n        return False\n\ndef test_missing_data_dataframe():\n    \"\"\"Test with DataFrame containing missing data.\"\"\"\n    print(\"\\nTesting PolyFit with DataFrame containing missing data...\")\n    try:\n        df = pd.DataFrame({\n            'x': [1, 2, 3, None, 4],\n            'y': [1, 2, 3, 4, 5]\n        })\n        plot = so.Plot(df, x='x', y='y').add(so.Line(), so.PolyFit())\n        result = plot.plot()\n        print(\"SUCCESS: No error occurred\")\n        return True\n    except Exception as e:\n        print(f\"ERROR: {type(e).__name__}: {e}\")\n        return False\n\ndef test_no_missing_data():\n    \"\"\"Test that normal data still works.\"\"\"\n    print(\"\\nTesting PolyFit with no missing data (should work)...\")\n    try:\n        plot = so.Plot([1, 2, 3, 4, 5], [1, 2, 3, 4, 5]).add(so.Line(), so.PolyFit())\n        result = plot.plot()\n        print(\"SUCCESS: No error occurred\")\n        return True\n    except Exception as e:\n        print(f\"ERROR: {type(e).__name__}: {e}\")\n        return False\n\ndef test_all_missing_data():\n    \"\"\"Test edge case with all missing data.\"\"\"\n    print(\"\\nTesting PolyFit with all missing data...\")\n    try:\n        plot = so.Plot([None, None, None], [1, 2, 3]).add(so.Line(), so.PolyFit())\n        result = plot.plot()\n        print(\"SUCCESS: No error occurred\")\n        return True\n    except Exception as e:\n        print(f\"ERROR: {type(e).__name__}: {e}\")\n        return False\n\nif __name__ == \"__main__\":\n    print(\"=\" * 60)\n    print(\"REPRODUCING POLYFIT MISSING DATA ISSUE\")\n    print(\"=\" * 60)\n    \n    # Test the original issue\n    test_missing_data_issue()\n    \n    # Test with DataFrame\n    test_missing_data_dataframe()\n    \n    # Test normal case\n    test_no_missing_data()\n    \n    # Test edge case\n    test_all_missing_data()\n    \n    print(\"\\n\" + \"=\" * 60)\n    print(\"REPRODUCTION COMPLETE\")\n    print(\"=\" * 60)", "new_content": "#!/usr/bin/env python3\n\"\"\"\nScript to reproduce the PolyFit missing data issue.\n\"\"\"\n\nimport seaborn.objects as so\nimport numpy as np\nimport pandas as pd\nfrom seaborn._stats.regression import PolyFit\n\ndef test_polyfit_direct():\n    \"\"\"Test PolyFit._fit_predict method directly.\"\"\"\n    print(\"Testing PolyFit._fit_predict directly...\")\n    try:\n        df = pd.DataFrame({\n            'x': [1, 2, 3, None, 4],\n            'y': [1, 2, 3, 4, 5]\n        })\n        polyfit = PolyFit()\n        result = polyfit._fit_predict(df)\n        print(f\"SUCCESS: Got result with shape {result.shape}\")\n        print(f\"X range: {result['x'].min():.2f} to {result['x'].max():.2f}\")\n        print(f\"Y range: {result['y'].min():.2f} to {result['y'].max():.2f}\")\n        return True\n    except Exception as e:\n        print(f\"ERROR: {type(e).__name__}: {e}\")\n        return False\n\ndef test_missing_data_issue():\n    \"\"\"Test the original issue with missing data.\"\"\"\n    print(\"\\nTesting PolyFit with missing data...\")\n    try:\n        plot = so.Plot([1, 2, 3, None, 4], [1, 2, 3, 4, 5]).add(so.Line(), so.PolyFit())\n        result = plot.plot()\n        print(\"SUCCESS: No error occurred\")\n        return True\n    except Exception as e:\n        print(f\"ERROR: {type(e).__name__}: {e}\")\n        return False\n\ndef test_missing_data_dataframe():\n    \"\"\"Test with DataFrame containing missing data.\"\"\"\n    print(\"\\nTesting PolyFit with DataFrame containing missing data...\")\n    try:\n        df = pd.DataFrame({\n            'x': [1, 2, 3, None, 4],\n            'y': [1, 2, 3, 4, 5]\n        })\n        plot = so.Plot(df, x='x', y='y').add(so.Line(), so.PolyFit())\n        result = plot.plot()\n        print(\"SUCCESS: No error occurred\")\n        return True\n    except Exception as e:\n        print(f\"ERROR: {type(e).__name__}: {e}\")\n        return False\n\ndef test_no_missing_data():\n    \"\"\"Test that normal data still works.\"\"\"\n    print(\"\\nTesting PolyFit with no missing data (should work)...\")\n    try:\n        plot = so.Plot([1, 2, 3, 4, 5], [1, 2, 3, 4, 5]).add(so.Line(), so.PolyFit())\n        result = plot.plot()\n        print(\"SUCCESS: No error occurred\")\n        return True\n    except Exception as e:\n        print(f\"ERROR: {type(e).__name__}: {e}\")\n        return False\n\ndef test_all_missing_data():\n    \"\"\"Test edge case with all missing data.\"\"\"\n    print(\"\\nTesting PolyFit with all missing data...\")\n    try:\n        plot = so.Plot([None, None, None], [1, 2, 3]).add(so.Line(), so.PolyFit())\n        result = plot.plot()\n        print(\"SUCCESS: No error occurred\")\n        return True\n    except Exception as e:\n        print(f\"ERROR: {type(e).__name__}: {e}\")\n        return False\n\ndef test_edge_cases():\n    \"\"\"Test various edge cases.\"\"\"\n    print(\"\\nTesting edge cases...\")\n    \n    # Test with only one valid point\n    try:\n        df = pd.DataFrame({\n            'x': [1, None, None],\n            'y': [1, 2, 3]\n        })\n        polyfit = PolyFit()\n        result = polyfit._fit_predict(df)\n        print(f\"SUCCESS: One valid point - result shape {result.shape}\")\n    except Exception as e:\n        print(f\"ERROR with one valid point: {type(e).__name__}: {e}\")\n    \n    # Test with no valid points\n    try:\n        df = pd.DataFrame({\n            'x': [None, None, None],\n            'y': [1, 2, 3]\n        })\n        polyfit = PolyFit()\n        result = polyfit._fit_predict(df)\n        print(f\"SUCCESS: No valid points - result shape {result.shape}\")\n    except Exception as e:\n        print(f\"ERROR with no valid points: {type(e).__name__}: {e}\")\n\nif __name__ == \"__main__\":\n    print(\"=\" * 60)\n    print(\"REPRODUCING POLYFIT MISSING DATA ISSUE\")\n    print(\"=\" * 60)\n    \n    # Test direct method first\n    test_polyfit_direct()\n    \n    # Test the original issue\n    test_missing_data_issue()\n    \n    # Test with DataFrame\n    test_missing_data_dataframe()\n    \n    # Test normal case\n    test_no_missing_data()\n    \n    # Test edge case\n    test_all_missing_data()\n    \n    # Test additional edge cases\n    test_edge_cases()\n    \n    print(\"\\n\" + \"=\" * 60)\n    print(\"REPRODUCTION COMPLETE\")\n    print(\"=\" * 60)", "impl_source": "oh_aci", "diff": "--- /workspace/mwaskom__seaborn__0.12/reproduce_issue.py\n+++ /workspace/mwaskom__seaborn__0.12/reproduce_issue.py\n@@ -8,0 +9,19 @@\n+from seaborn._stats.regression import PolyFit\n+\n+def test_polyfit_direct():\n+    \"\"\"Test PolyFit._fit_predict method directly.\"\"\"\n+    print(\"Testing PolyFit._fit_predict directly...\")\n+    try:\n+        df = pd.DataFrame({\n+            'x': [1, 2, 3, None, 4],\n+            'y': [1, 2, 3, 4, 5]\n+        })\n+        polyfit = PolyFit()\n+        result = polyfit._fit_predict(df)\n+        print(f\"SUCCESS: Got result with shape {result.shape}\")\n+        print(f\"X range: {result['x'].min():.2f} to {result['x'].max():.2f}\")\n+        print(f\"Y range: {result['y'].min():.2f} to {result['y'].max():.2f}\")\n+        return True\n+    except Exception as e:\n+        print(f\"ERROR: {type(e).__name__}: {e}\")\n+        return False\n@@ -12 +31 @@\n-    print(\"Testing PolyFit with missing data...\")\n+    print(\"\\nTesting PolyFit with missing data...\")\n@@ -61,0 +81,28 @@\n+def test_edge_cases():\n+    \"\"\"Test various edge cases.\"\"\"\n+    print(\"\\nTesting edge cases...\")\n+\n+    # Test with only one valid point\n+    try:\n+        df = pd.DataFrame({\n+            'x': [1, None, None],\n+            'y': [1, 2, 3]\n+        })\n+        polyfit = PolyFit()\n+        result = polyfit._fit_predict(df)\n+        print(f\"SUCCESS: One valid point - result shape {result.shape}\")\n+    except Exception as e:\n+        print(f\"ERROR with one valid point: {type(e).__name__}: {e}\")\n+\n+    # Test with no valid points\n+    try:\n+        df = pd.DataFrame({\n+            'x': [None, None, None],\n+            'y': [1, 2, 3]\n+        })\n+        polyfit = PolyFit()\n+        result = polyfit._fit_predict(df)\n+        print(f\"SUCCESS: No valid points - result shape {result.shape}\")\n+    except Exception as e:\n+        print(f\"ERROR with no valid points: {type(e).__name__}: {e}\")\n+\n@@ -65,0 +113,3 @@\n+\n+    # Test direct method first\n+    test_polyfit_direct()\n@@ -78,0 +129,3 @@\n+    # Test additional edge cases\n+    test_edge_cases()\n+", "_diff_cache": null}}